<?xml version="1.0" encoding="utf-8"?>
<contract xmlns="http://www.efs.org/2007/EFSmL-3-0"
          xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
          xmlns:ecoreB="http://www.eclipse.org/emf/2002/Ecore"
          xsi:schemaLocation="http://www.efs.org/2007/EFSmL-3-0 ../Schemas/EfsML-CorporateActions-3-0.xsd">
  <future>
    <contractSize>
      <componentFormula  id="exContractSizeFuture" name="exCSf">
        <description>New contract size calculation</description>
        <formula>
          <mathExpression>CSf/R</mathExpression>
          <componentMethod id="cumContractSizeFuture" name="CSf">
            <description>Cum contract size</description>
            <method>
              <name>CumContractSize</name>
            </method>
          </componentMethod>
          <componentReference href="ratioFactor" name="R" id="ratioFactor_r1"/>
        </formula>
      </componentFormula>
    </contractSize>
    <contractMultiplier>
      <componentFormula  id="exContractMultiplierFuture" name="exCMf">
        <description>New contract multiplier calculation</description>
        <formula>
          <mathExpression>CMf/R</mathExpression>
          <componentMethod id="cumContractMultiplierFuture" name="CMf">
            <description>Cum contract multiplier</description>
            <method>
              <name>CumContractMultiplier</name>
            </method>
          </componentMethod>
          <componentReference href="ratioFactor" name="R" id="ratioFactor_r1b"/>
        </formula>
      </componentFormula>
    </contractMultiplier>
    <price>
      <componentFormula  id="exDailyClosingPriceFuture" name="exDCPf">
        <description>New registred price contract</description>
        <formula>
          <mathExpression>DCPf*R</mathExpression>
          <componentMethod id="dailyClosingPriceFuture" name="DCPf">
            <description>Daily Closing Price by maturity</description>
            <method>
              <name>CumDailyClosingPrice</name>
            </method>
          </componentMethod>
          <componentReference href="ratioFactor" name="R" id="ratioFactor_r2"/>
        </formula>
      </componentFormula>
    </price>
  </future>
  <option>
    <contractSize>
      <componentFormula  id="exContractSizeOption" name="exCSo">
        <description>New contract size calculation</description>
        <formula>
          <mathExpression>CSo/R</mathExpression>
          <componentMethod id="cumContractSizeOption" name="CSo">
            <description>Cum contract size</description>
            <method>
              <name>CumContractSize</name>
            </method>
          </componentMethod>
          <componentReference href="ratioFactor" name="R" id="ratioFactor_r3"/>
        </formula>
      </componentFormula>
    </contractSize>
    <contractMultiplier>
      <componentFormula  id="exContractMultiplierOption" name="exCMo">
        <description>New contract multiplier calculation</description>
        <formula>
          <mathExpression>CMo/R</mathExpression>
          <componentMethod id="cumContractMultiplierOption" name="CMo">
            <description>Cum contract multiplier</description>
            <method>
              <name>CumContractMultiplier</name>
            </method>
          </componentMethod>
          <componentReference href="ratioFactor" name="R" id="ratioFactor_r3b"/>
        </formula>
      </componentFormula>
    </contractMultiplier>
    <!-- EG 20210818 Ajout de la référence CD (=Cash distribution) pour gérer la réduction du Strike (CA sur OCC) -->
    <strikePrice>
      <componentFormula  id="exStrikePrice" name="exX">
        <description>New strike price calculation</description>
        <formula>
          <mathExpression>(X*R)-CD</mathExpression>
          <componentMethod id="cumStrikePrice" name="X">
            <description>Cum strike price</description>
            <method>
              <name>CumStrikePrice</name>
            </method>
          </componentMethod>
          <componentReference href="ratioFactor" name="R" id="ratioFactor_r4"/>
          <componentReference href="cashDistrib" name="CD" id="cashDistrib_r1" defaultResult="0">
            <description>Cash distribution</description>
          </componentReference>
        </formula>
      </componentFormula>
    </strikePrice>
    <price>
      <componentFormula  id="exDailyClosingPriceOption" name="exDCPo">
        <description>New registred price contract</description>
        <formula>
          <mathExpression>(DCPo*R)</mathExpression>
          <componentMethod id="dailyClosingPriceOption" name="DCPo">
            <description>Daily Closing Price by maturity</description>
            <method>
              <name>CumDailyClosingPrice</name>
            </method>
          </componentMethod>
          <componentReference href="ratioFactor" name="R" id="ratioFactor_r5"/>
        </formula>
      </componentFormula>
    </price>
  </option>
</contract>
