function ClearGrid(){$("#divDtg table>tbody").hide();let n=$("#divDtg .DataGrid_PagerStyle td");GetResourceArray(["Page","of"],function(t){n.html(`<span style='font-weight:bold;'>${t[0]} 1 ${t[1]} 1</span>`)})}function HideFilter(n){$(`#${n}`).parent().hide();var t=parseInt(n.charAt(n.length-1));$(divInfosWhereDataRow).find(".infosAnd")[t-1]!=undefined&&$($(divInfosWhereDataRow).find(".infosAnd")[t-1]).hide()}function DisabledFilter(n){$.ajax({url:"list.aspx/DisabledFilter",data:"{'disabledFilterControlId': '"+n+"', 'guid':'"+$("#__GUID").val()+"'}",dataType:"json",type:"POST",contentType:"application/json; charset = utf-8",success:function(){OnDisabledFilterSuccess(n)},error:AlertAJaxError})}function OnDisabledFilterSuccess(n){if(n.startsWith("lnk")){let t=$(divInfosWhereDataRow).find("span[id^='imgDisabledFilter']");$(t).length&&$(t).each(function(){HideFilter($(this).attr("id"))});$(`#${n}`).hide()}else if(n.startsWith("img")){HideFilter(n);let t=$(divInfosWhereDataRow).find("div>span>i"),i=$(divInfosWhereDataRow).find("div:hidden");t.length==i.length&&$("#lnkDisabledFilter").hide()}idLstTemplateSav.startsWith("*")||GetCurrentTemplate(function(n){let i=n.IDLSTTEMPLATE,r=n.IDA,t=$("#tbViewer>a[onclick]");$(t).length&&$(t).each(function(){let n=$(this).attr("onclick").replace(`&T=${idLstTemplateSav}`,`&T=${i}`).replace(`&A=${idATemplateSav}`,`&A=${r}`);$(this).attr("onclick",n)})});GetCurrentTemplateSubTitle(function(n){$("#subTitleLeft").html(n.Item1);$("#lblRightSubtitle").html(n.Item2)});$("#WarningSummary").hide()}function GetCurrentTemplate(n){$.ajax({url:"list.aspx/GetCurrentTemplate",data:"{'guid':'"+$("#__GUID").val()+"'}",dataType:"json",type:"POST",contentType:"application/json; charset = utf-8",success:function(t){if(typeof n=="function")n(t.d);else throw"callback is not a function!";},error:AlertAJaxError})}function GetCurrentTemplateSubTitle(n){$.ajax({url:"list.aspx/GetCurrentTemplateSubTitle",data:"{'guid':'"+$("#__GUID").val()+"'}",dataType:"json",type:"POST",contentType:"application/json; charset = utf-8",success:function(t){if(typeof n=="function")n(t.d);else throw"callback is not a function!";},error:AlertAJaxError})}function DDLSearchRefresh(){$(txtSearch).length&&IsCtrlChanged("ddlSearch")&&(SaveActiveElement(),RefreshPage("ddlSearch","SearchData"))}function TXTSearchRefresh(n){n.type=="blur"?IsCtrlChanged("txtSearch")&&(SaveActiveElement(),RefreshPage("txtSearch","SearchData")):(n.type=="keydown"&&n.keyCode==Sys.UI.Key.enter||n.type=="autocompleteselect")&&(n.type=="keydown"&&n.keyCode==Sys.UI.Key.enter&&event.preventDefault(),IsCtrlChanged("txtSearch")&&(SaveActiveElement(),RefreshPage("txtSearch","SearchData")))}var divInfosWhereDataRow,idLstTemplateSav,idATemplateSav,txtSearch;$(document).ready(function(){$("span[id^='imgDisabledFilter']:not([onclick]),span[id^='lnkDisabledFilter']:not([onclick])").on("click",function(n){divInfosWhereDataRow=document.querySelector("#divInfosWhereDataRow");ClearGrid();AvailableSession(function(t){t&&GetCurrentTemplate(function(t){idLstTemplateSav=t.IDLSTTEMPLATE;idATemplateSav=t.IDA;DisabledFilter(n.target.parentElement.id)})})})});$(document).ready(function(){txtSearch=$("#txtSearch");$(txtSearch).autocomplete({source:function(n,t){var i=n.term.replace("'","&#039;").replace("\\","\\\\");$.ajax({url:"list.aspx/LoadSearchData",data:"{ 'request': '"+i+"', 'guid':'"+$("#__GUID").val()+"'}",dataType:"json",type:"POST",contentType:"application/json; charset=utf-8",dataFilter:function(n){return n},success:function(n){t($.map(n.d,function(n){return{value:n}}))},error:AutocompleteError})},minLength:3,select:function(n,t){n.preventDefault();let i=t.item.value;i='"'+i+'"';$(txtSearch).val(i);TXTSearchRefresh(n)},open:function(){$(txtSearch).removeAttr("onblur");$(txtSearch).removeAttr("onkeydown")},close:function(){$(txtSearch).attr("onblur","TXTSearchRefresh(event);");$(txtSearch).attr("onkeydown","TXTSearchRefresh(event);")}})});