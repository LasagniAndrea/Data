function Set(n,t,i){if(i){var r=document.getElementById(n);r!=null&&(r.type=="checkbox"||r.type=="radio"?r.checked=t=="true":r.value=t)}}function Reset(n,t){Set(n,"",t)}function IsEqualValue(n,t,i){var r=!1;return i&&(r=n.type=="checkbox"||n.type=="radio"?n.checked==(t=="true"):n.value.replace(/(^\s*)|(\s*$)/g,"")==t),r}function EnabledDisabled(n,t,i,r,u){var e=document.getElementById(t),f=!1,o,s;return e!=null&&(n.type=="checkbox"?f=n.checked&&"true"==i||u:(o=n.value,o=o.replace(/(^\s*)|(\s*$)/g,""),f=o==i||u),e.disabled=r?!f:f,e.type=="radio"&&(s=document.getElementById(t+"2"),s!=null&&(s.disabled=e.disabled))),f}function UpperLower(n,t){return n!=null&&(n.value=t=="upper"?n.value.toUpperCase():t=="lower"?n.value.toLowerCase():t=="1stupper"?n.value.substr(0,1).toUpperCase()+n.value.substring(1,n.value.length):n.value.toUpperCase()),!1}function SetStatus(n){return window.status=n,!1}function Copy(n,t,i){if(n.value==null)return!1;var r=document.getElementById(t);if(r!=null){if(r.value.length>=1&&i=="new")return!1;i=="append"?r.value+=n.value:r.value=n.value}return!1}function LoadAutoCompleteReferentialColumnRelation(){$(".rcr-autocomplete").autocomplete({source:function(n,t){var i=$(this)[0].element[0].id;$.ajax({url:"Referential.aspx/LoadAutoCompleteReferentialColumnRelation",data:"{ 'request': '"+n.term+"','guid': '"+$("#__GUID").val()+"','controlId': '"+i+"'}",dataType:"json",type:"POST",contentType:"application/json; charset = utf-8",dataFilter:function(n){return n},success:function(n){t($.map(n.d,function(n){return{id:n.id,value:n.identifier}}))},error:AutocompleteError})},select:function(n,t){var i=$(this)[0].id;SetReferentialColumnRelation(i,t.item.id,t.item.value)},minLength:1})}function CheckAutoCompleteReferentialColumnRelation(){$(".rcr-autocomplete").change(function(){var n=$(this)[0].id,t=n.replace("TXT","HDN");$("#"+n).val().length==0?ClearAutocompleteInput(n):$("#"+t).val().length==0?ClearAutocompleteInput(n):$.ajax({url:"Referential.aspx/CheckAutoCompleteReferentialColumnRelation",data:"{'guid': '"+$("#__GUID").val()+"','controlId': '"+n+"','id': '"+$("#"+t).val()+"','identifier': '"+$("#"+n).val()+"'}",dataType:"json",type:"POST",async:!1,contentType:"application/json; charset = utf-8",success:function(t){t.d==!1&&ClearAutocompleteInput(n)},error:function(n){alert("Error: "+n.responseText)}})})}function ClearAutocompleteInput(n){SetReferentialColumnRelation(n,"","")}function GetIdAutocompleteInput(n){return GetControlHiddenAutocompleteInput(n).val()}function GetControlHiddenAutocompleteInput(n){let t=n.replace("TXT","HDN");return $(`#${t}`)}function SetReferentialColumnRelation(n,t,i){var r=n.replace("TXT","HDN");$("#"+r).val(t);$("#"+n).val(i)}function LoadAutoCompleteReferentialColumn(){$(".rc-autocomplete").autocomplete({source:function(n,t){var u=$(this)[0].element[0].id,i=[],r;$("input[id^='TXT'],input[id^='CHK'],select[id^='DDL'],span[id^='DDL'][ddlvalue]").each(function(){let n;n=$(this).is("span")?$(this).attr("ddlvalue"):$(this).val();i.push({id:$(this)[0].id,value:n})});r=JSON.stringify(i);$.ajax({url:"Referential.aspx/LoadAutoCompleteReferentialColumn",data:"{ 'request': '"+n.term+"','guid': '"+$("#__GUID").val()+"','controlId': '"+u+"','controlValues': "+r+"}",dataType:"json",type:"POST",contentType:"application/json; charset = utf-8",dataFilter:function(n){return n},success:function(n){t($.map(n.d,function(n){return{value:n}}))},error:AutocompleteError})},select:function(n,t){var i=$(this)[0].id;$("#"+i).val(t.value)},minLength:1})}function SyncAutoCompleteReferentialColumnRelation(n){let t=JSON.stringify(n);$.ajax({url:"Referential.aspx/SyncAutoCompleteReferentialColumnRelation",data:"{'guid': '"+$("#__GUID").val()+"','controls': "+t+"}",dataType:"json",type:"POST",contentType:"application/json; charset = utf-8",error:function(n){alert("Error: "+n.responseText)}})}function LoadDDL(n,t,i=false){$(`#${n}`).empty();Array.isArray(t)&&t.length>0&&(i&&$(`#${n}`).append(new Option("","")),t.forEach(function(t){let i=Object.entries(t)[0][1],r=Object.entries(t)[1][1];$(`#${n}`).append(new Option(r,i))}),OrderDDL(n))}function OrderDDL(n){var i=$(`#${n} option`),t=i.map(function(n,t){return{t:$(t).text(),v:t.value}}).get();t.sort(function(n,t){return n.t>t.t?1:n.t<t.t?-1:0});i.each(function(n,i){i.value=t[n].v;$(i).text(t[n].t)})}function OpenReferential(n,t,r,u,f,e,o,s,h,c,l,a,v){var k=document.forms[0],p=o,y="List.aspx?"+u+"="+n,w,d,b;if(y+="&InputMode=1",y+="&OpenerKeyId="+o,y+="&TypeKeyField="+e,l!=null&&(y+="&FK="+l),c!=null&&(y+="&CondApp="+c),t!=null&&(y+="&TitleMenu="+t),r!=null&&(y+="&SubTitle="+r),s!=null&&(h!=null&&(p=h),y+="&OpenerSpecifiedId="+p,y+="&OpenerSpecifiedSQLField="+s),f!=null&&f==!0&&(k=document.forms[0],w=k.elements[p],w!=null&&(d=w.value,y+="&ValueForFilter="+d)),a!=null)for(b=a.split(";"),i=0;i<b.length;i++)y+="&P"+(i+1).toString()+"="+b[i];v!=null&&(y+="&DA="+v);ret=window.open(y,"referential"+u+n,"popup=true")}function OpenerGetReferential(n,t,i,r){n!=null&&OpenerGetReferential_SetDataToControl(n,t);i!=null&&OpenerGetReferential_SetDataToControl(i,r)}function OpenerGetReferential_SetDataToControl(n,t){var u=document.forms[0],r=u.elements[n],i;r!=null&&(r.focus(),i=r.value,i.charAt(i.length-1)!=";"&&i.length>1&&i.lastIndexOf(";",i.Length-2)>=0&&(i=i.substr(0,i.lastIndexOf(";",i.length-2)+1)),i.length>0&&i.charAt(i.length-1)==";"?r.value=i+t:r.value!=t&&(r.value=t,u.name=="CCIPage"&&OnCtrlChanged(n,"")))}function OpenReferentialForAutocomplete(n){for(var t=n.replace(new RegExp("'","g"),"");t.indexOf("\\x22")>-1;)t=t.replace("\\x22",'"');return t.replace(";return false;","")}function OpenUrl(n,t,i){var u=document.forms[0],r=u.elements[t],f=u.elements[i];r!=null&&(n=n.replace("{0}",r.value),n=f!=null?n.replace("{1}",f.value):n.replace("{1}",r.value));window.open(n,"_blank")}function OpenAttachedDoc(n,t,i){OpenUrl(n,t,i)}function OpenNotepad(n,t,i){OpenUrl(n,t,i)}function GetReferential(n,t,i,r){null!=window.opener&&window.opener.OpenerGetReferential(n,t,i,r);self.close()}function ToggleReferentialColumnName(){$("#CHKShowColumnName").change(function(){$("span.refcolname").toggleClass("hide")})}