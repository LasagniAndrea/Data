<?xml version="1.0" encoding="utf-8" ?>
<Referentials>
	<Referential>
		<TableName>ACTOR</TableName>
		<Ressource>ACTOR</Ressource>
		<ColumnByRow>3</ColumnByRow>
		<Create>false</Create>
		<Modify>true</Modify>
		<Remove>false</Remove>
		<Image></Image>
		
    <SQLWhere>
      <!--
      USER non admin peut accéder aux acteurs :                             
      - non affectés à un profil (ou model) et créés ou modifiés par lui-même                     
      - accessibles par application des profils rattachés à lui ou à sa hiérarchie (ISENABLED=true) 
      - dits publics ACTEUR.ISENABLED=true                            
      -->
      <ConditionSystem>SESSIONRESTRICT</ConditionSystem>
      <SQLJoin>left outer join dbo.SESSIONRESTRICT sr on sr.ID=tblmain.IDA and sr.CLASS='ACTOR' and sr.SESSIONID='%%SESSIONID%%'</SQLJoin>
      <SQLWhere>
        <![CDATA[
        (
          (sr.ID is not null) 
          or
          (
            (not exists(select 1 from dbo.ACTORMODEL where IDA=tblmain.IDA)) 
            and
            ((tblmain.IDAINS=%%ID_USER%% and tblmain.IDAUPD is null) or tblmain.IDAUPD=%%ID_USER%%)
          )
        )
        ]]>
      </SQLWhere>
    </SQLWhere>
    
		<Column>
			<ColumnName>IDA</ColumnName>
			<Ressource>IDA</Ressource>
			<DataType>int</DataType>
			<Length>10</Length>
			<Scale>0</Scale>
			<IsMandatory>true</IsMandatory>
			<RegularExpression></RegularExpression>
			<Default></Default>
			<IsHide>false</IsHide>
			<IsHideInDataGrid>false</IsHideInDataGrid>
			<IsDataKeyField>true</IsDataKeyField>
			<IsForeignKeyField>true</IsForeignKeyField>
			<IsUpdatable>false</IsUpdatable>
			<Relation>
				<TableName>ACTOR</TableName>
				<AliasTableName>a1</AliasTableName>
				<ColumnRelation>
					<ColumnName>IDA</ColumnName>
					<DataType>int</DataType>
				</ColumnRelation>
				<ColumnSelect>
					<ColumnName>IDENTIFIER</ColumnName>
					<Ressource>Actor</Ressource>
					<DataType>string</DataType>
				</ColumnSelect>
				<ColumnLabel>
					<ColumnName>DISPLAYNAME</ColumnName>
					<Ressource>Actor</Ressource>
					<DataType>string</DataType>
				</ColumnLabel>
				<Condition>
					<TableName>ACTORROLE</TableName>
					<ColumnRelation>
						<ColumnName>IDA</ColumnName>
						<DataType>int</DataType>
					</ColumnRelation>
					<!-- SQLWhere>ACTORROLE.IDROLEACTOR in ('SYSADMIN','SYSOPER','USER','GUEST')</SQLWhere -->
					<SQLWhere>
						ACTORROLE.IDROLEACTOR in
						(
						select IDROLEACTOR
						from dbo.ROLEACTOR
						where ROLETYPE='ACCESS'
						)
					</SQLWhere>
				</Condition>
        <AutoComplete enabled="true"/>
			</Relation>
			<html_BLOCK title="User_Title" columnbyrow="1"></html_BLOCK>
		</Column>
		<Column>
			<ColumnName>IDMODELSAFETY</ColumnName>
			<Ressource>Rule_Safety</Ressource>
      <!-- Colspan>0</Colspan -->
			<DataType>int</DataType>
			<Length>10</Length>
			<RegularExpression></RegularExpression>
			<Default>
			</Default>
			<IsHide>false</IsHide>
			<IsHideInDataGrid>false</IsHideInDataGrid>
			<IsUpdatable>true</IsUpdatable>
			<Relation>
				<TableName>MODELSAFETY</TableName>
				<ColumnRelation>
					<ColumnName>IDMODELSAFETY</ColumnName>
					<DataType>int</DataType>
				</ColumnRelation>
				<ColumnSelect>
					<ColumnName>MODELNAME</ColumnName>
					<Ressource>Rule_Safety</Ressource>
					<DataType>string</DataType>
				</ColumnSelect>
				<ColumnLabel>
					<ColumnName>DESCRIPTION</ColumnName>
					<Ressource>DESCRIPTION</Ressource>
					<DataType>string</DataType>
				</ColumnLabel>
			</Relation>
			<html_BLOCK title="Safety_" columnbyrow="1"></html_BLOCK>
      <html_HR title="Rules" size="5"></html_HR>
      <Information>
        <Type>information</Type>
        <LabelMessage>Msg_IDMODELSAFETYForACTOR</LabelMessage>
      </Information>
    </Column>
		<Column>
			<ColumnName>SIMULTANEOUSLOGIN</ColumnName>
			<Ressource>SIMULTANEOUSLOGIN</Ressource>
      <!-- Colspan>0</Colspan -->
      <Align>left</Align>
      <InputWidth>25</InputWidth>
      <DataType>int</DataType>
			<Length>5</Length>
			<Scale>0</Scale>
			<RegularExpression></RegularExpression>
			<Default></Default>
			<IsHide>false</IsHide>
			<IsHideInDataGrid>false</IsHideInDataGrid>
			<IsUpdatable>true</IsUpdatable>
      <Relation/>
      <html_HR title="Empty" size="1"></html_HR>
      <Information>
				<Type>information</Type>
				<LabelMessage>Msg_SIMULTANEOUSLOGINForACTOR</LabelMessage>
			</Information>
		</Column>
    <Column>
      <ColumnName>ISRDBMSUSER</ColumnName>
      <Ressource>ISRDBMSUSER</Ressource>
      <!-- Colspan>0</Colspan -->
      <DataType>bool</DataType>
      <Length>1</Length>
      <IsMandatory>true</IsMandatory>
      <RegularExpression>
      </RegularExpression>
      <Default>
        <Value>false</Value>
      </Default>
      <IsHide>false</IsHide>
      <IsHideInDataGrid>false</IsHideInDataGrid>
      <IsUpdatable>true</IsUpdatable>
      <Relation/>
      <html_HR title="Empty" size="1"></html_HR>
      <Information>
        <Type>information</Type>
        <LabelMessage>Msg_ISRDBMSUSERForACTOR</LabelMessage>
      </Information>
    </Column>

    <Column>
			<ColumnName>PWD</ColumnName>
			<Ressource>PWD</Ressource>
      <!-- Colspan>0</Colspan -->
      <InputWidth>25</InputWidth>
			<DataType>string</DataType>
			<TextMode>Password</TextMode>
			<Length>128</Length>
			<Scale>0</Scale>
			<RegularExpression></RegularExpression>
			<Default></Default>
			<IsHide>false</IsHide>
			<IsHideInDataGrid>true</IsHideInDataGrid>
			<IsUpdatable>true</IsUpdatable>
      <Relation/>
			<html_HR title="Password" size="5" columnbyrow="1"></html_HR>
      <Information>
        <Type>information</Type>
        <LabelMessage>Msg_PWDForACTOR</LabelMessage>
      </Information>
    </Column>
		<Column>
			<ColumnName>ISPWDMODNEXTLOGON</ColumnName>
			<Ressource>ISPWDMODNEXTLOGON</Ressource>
      <!-- Colspan>0</Colspan -->
			<DataType>bool</DataType>
			<Length>1</Length>
			<Scale>0</Scale>
			<IsMandatory>true</IsMandatory>
			<RegularExpression></RegularExpression>
			<Default>
				<Value>false</Value>
			</Default>
			<IsHide>false</IsHide>
			<IsHideInDataGrid>false</IsHideInDataGrid>
			<IsUpdatable>true</IsUpdatable>
      <Relation/>
      <html_HR title="Empty" size="1"></html_HR>
      <Information>
        <Type>information</Type>
        <LabelMessage>Msg_ISPWDMODNEXTLOGONForACTOR</LabelMessage>
      </Information>
    </Column>
		<Column>
			<ColumnName>DTPWDEXPIRATION</ColumnName>
			<Ressource>DTPWDEXPIRATION</Ressource>
      <!-- Colspan>0</Colspan -->
			<DataType>date</DataType>
			<Length>8</Length>
			<Scale>0</Scale>
			<RegularExpression></RegularExpression>
			<Default></Default>
			<IsHide>false</IsHide>
			<IsHideInDataGrid>false</IsHideInDataGrid>
			<IsUpdatable>true</IsUpdatable>
      <Relation/>
      <html_HR title="Password_Change_Imposed" size="2"></html_HR>
      <Information>
        <Type>information</Type>
        <LabelMessage>Msg_DTPWDEXPIRATIONForACTOR</LabelMessage>
      </Information>
    </Column>
		<Column>
			<ColumnName>PWDREMAININGGRACE</ColumnName>
			<Ressource>PWDREMAININGGRACE</Ressource>
      <!-- Colspan>0</Colspan -->
      <Align>left</Align>
      <InputWidth>25</InputWidth>
      <DataType>int</DataType>
			<Length>5</Length>
			<Scale>0</Scale>
			<RegularExpression></RegularExpression>
			<Default></Default>
			<IsHide>false</IsHide>
			<IsHideInDataGrid>false</IsHideInDataGrid>
			<IsUpdatable>true</IsUpdatable>
      <Relation/>
      <html_HR title="Empty" size="1"></html_HR>
      <Information>
        <Type>information</Type>
        <LabelMessage>Msg_PWDREMAININGGRACEForACTOR</LabelMessage>
      </Information>
    </Column>

		<Column>
			<ColumnName>IDAUPD</ColumnName>
			<Ressource>IDAUPD</Ressource>
			<DataType>int</DataType>
			<Length>10</Length>
			<Scale>0</Scale>
			<RegularExpression></RegularExpression>
			<Default></Default>
			<IsHide>true</IsHide>
			<IsHideInDataGrid>true</IsHideInDataGrid>
			<Relation>
				<TableName>ACTOR</TableName>
				<AliasTableName>upda</AliasTableName>
				<ColumnRelation>
					<ColumnName>IDA</ColumnName>
					<DataType>int</DataType>
				</ColumnRelation>
				<ColumnSelect>
					<ColumnName>DISPLAYNAME</ColumnName>
					<Ressource>Display name</Ressource>
					<DataType>string</DataType>
				</ColumnSelect>
			</Relation>
		</Column>
		<Column>
			<ColumnName>DTUPD</ColumnName>
			<Ressource>DTUPD</Ressource>
			<DataType>date</DataType>
			<Length>8</Length>
			<Scale>0</Scale>
			<IsMandatory>false</IsMandatory>
			<RegularExpression></RegularExpression>
			<Default></Default>
			<IsHide>true</IsHide>
			<IsHideInDataGrid>true</IsHideInDataGrid>
			<IsUpdatable>true</IsUpdatable>
      <Relation/>
		</Column>
		<Column>
			<ColumnName>ROWATTRIBUT</ColumnName>
			<Ressource>ROWATTRIBUT</Ressource>
			<DataType>string</DataType>
			<Length>1</Length>
			<Scale>0</Scale>
			<RegularExpression>
			</RegularExpression>
			<Default></Default>
			<IsHide>true</IsHide>
			<IsHideInDataGrid>true</IsHideInDataGrid>
			<IsUpdatable>true</IsUpdatable>
      <Relation/>
		</Column>
		<Column>
			<ColumnName>ROWVERSION</ColumnName>
			<Ressource>ROWVERSION</Ressource>
			<DataType>string</DataType>
			<Length>8</Length>
			<Scale>0</Scale>
			<IsMandatory>true</IsMandatory>
			<RegularExpression></RegularExpression>
			<Default></Default>
			<IsHide>true</IsHide>
			<IsHideInDataGrid>true</IsHideInDataGrid>
			<IsUpdatable>true</IsUpdatable>
      <Relation/>
		</Column>
	</Referential>
</Referentials>