<?xml version="1.0" encoding="utf-8" ?>
<!-- *************************************************** -->
<!-- *************************************************** -->
<!-- PL 20100203 WARNING                                 -->
<!--       File identic to BOOK.xml, except:             -->
<!--       - TableName  [BOOK]                           -->
<!--       - Create,Modify,Remove [true]                 -->
<!--       - SQLWhere   [Removed SQLJoin]                -->
<!--       - FK column  [Missing column]                 -->
<!--       - IDA column [It's a IsForeignKeyField]       -->
<!-- *************************************************** -->
<!-- *************************************************** -->
<!--
CC/PL 20170929 UPD MPD [23464]  Add column IDA_DECISIONOFFICE
FI 20120904 [18113] Nouveau standard, les tables de travail(temporaires) se terminent par _W
FI 20120719 add create index on SQLPreSelect for performance enhancement
RD 20120606 Ajour du rôle BROKER dans la liste restrictive des rôles sur la colonne IDA
-->
<Referentials>
  <Referential>
    <TableName>BOOK</TableName>
    <Ressource>Book</Ressource>
    <freezeColumn>4</freezeColumn>
    <Items srctablename="GBOOK" tablename="BOOKG" columnname="IDGBOOK" datatype="int" mode="RW" addcolumns="DTENABLED,IDGBOOK_HREF">
      <html_BLOCK title="Group_Title" columnbyrow="3" startdisplay="collapse">
        <Information>
          <Type>information</Type>
          <LabelMessage>Msg_GroupForBOOKGROUP</LabelMessage>
        </Information>
      </html_BLOCK>
    </Items>
    <ColumnByRow>3</ColumnByRow>
    <Create>true</Create>
    <Modify>true</Modify>
    <Remove>true</Remove>
    <Image></Image>

    <SQLPreSelect>
      <Command rdbms = "sqlserver">
        <![CDATA[
             if  exists ( select 1 from sysobjects where name='ABOOK_IDROLE_%%SHORTSESSIONID%%.ToUpper()_W' and xtype='U' )
                drop table ABOOK_IDROLE_%%SHORTSESSIONID%%.ToUpper()_W;
        
            select a.IDA,STUFF((select distinct ';' +  RTRIM(ar.IDROLEACTOR)   
                        from dbo.ACTOR a1 
                        inner join dbo.ACTORROLE ar on ar.IDA = a.IDA  and 
                        ar.IDROLEACTOR in (select IDROLEACTOR from dbo.ROLEACTOR) 
                        where a1.IDA = a.IDA   FOR XML PATH ('')),1,1,'')  as ROLE  
						into ABOOK_IDROLE_%%SHORTSESSIONID%%.ToUpper()_W
            from dbo.ACTOR a
            where a.IDA = case when -1=%%DA:FK.GetDataSQLValue()%% then a.IDA else %%DA:FK.GetDataSQLValue()%% end
						group by a.IDA
            
            create index IX_ABOOK_IDROLE_%%SHORTSESSIONID%%.ToUpper()_W on ABOOK_IDROLE_%%SHORTSESSIONID%%.ToUpper()_W(IDA);
            
        ]]>
      </Command>
      <Command rdbms = "oracle">
        <![CDATA[
        declare
  lcount number;
  query varchar2(2000);  
  begin 
	  select count(1) into lcount from USER_TABLES where TABLE_NAME = 'ABOOK_IDROLE_%%SHORTSESSIONID%%.ToUpper()_W';
	  if (lcount > 0) then
	  	  query:='drop table ABOOK_IDROLE_%%SHORTSESSIONID%%.ToUpper()_W purge';
		    execute immediate query;
	  end if;
	  
	  query:='create table ABOOK_IDROLE_%%SHORTSESSIONID%%.ToUpper()_W as	(
	  			 select a.IDA, RTRIM(REPLACE(REPLACE(XMLAgg(XMLElement("x", RTRIM(ar.IDROLEACTOR))		
					 order by ar.IDROLEACTOR ASC), ''<x>'', ''''), ''</x>'', '',''), '','') as ROLE 
					 from dbo.ACTOR a	
					 inner join (select distinct IDA,IDROLEACTOR from dbo.ACTORROLE) ar on ar.IDA = a.IDA 
           where a.IDA = case when -1=%%DA:FK.GetDataSQLValue()%% then a.IDA else %%DA:FK.GetDataSQLValue()%% end
           group by a.IDA)';
	  execute immediate query;
    
    query:='create index IX_ABOOK_IDROLE_%%SHORTSESSIONID%%.ToUpper()_W on ABOOK_IDROLE_%%SHORTSESSIONID%%.ToUpper()_W(IDA)';
    execute immediate query;
    
   end; 
      ]]>
      </Command>
    </SQLPreSelect>

    <SQLWhere>
      <!-- Check Book Owner and Book Entity when exist -->
      <!--
      USER non admin peut accéder aux acteurs :                             
      - non affectés à un profil (ou model) et créés ou modifiés par lui-même                     
      - accessibles par application des profils rattachés à lui ou à sa hiérarchie (ISENABLED=true) 
      - dits publics ACTEUR.ISENABLED=true                            
      -->
      <ConditionSystem>SESSIONRESTRICT</ConditionSystem>
      <SQLJoin>inner join dbo.SESSIONRESTRICT sr on sr.ID=tblmain.IDA and sr.CLASS='ACTOR' and sr.SESSIONID='%%SESSIONID%%'</SQLJoin>
      <SQLJoin>left outer join dbo.SESSIONRESTRICT sre on sre.ID=tblmain.IDA_ENTITY and sre.CLASS='ACTOR' and sre.SESSIONID='%%SESSIONID%%'</SQLJoin>
      <SQLWhere>
        <![CDATA[
        (
          (sr.ID is not null) 
          or
          (
            (not exists(select 1 from dbo.ACTORMODEL where IDA=tblmain.IDA)) 
            and
            ((tblmain.IDAINS=%%ID_USER%% And tblmain.IDAUPD is null) Or tblmain.IDAUPD=%%ID_USER%%)
          )
        )
        and 
        ((sre.ID is null and tblmain.IDA_ENTITY is null) or (sre.ID is not null))
        ]]>
      </SQLWhere>
    </SQLWhere>
    
    <SQLJoin>
      left outer join ABOOK_IDROLE_%%SHORTSESSIONID%%.ToUpper()_W aIdRole on (aIdRole.IDA=tblmain.IDA)
    </SQLJoin>

    <XSLFileName/>

    <Column>
      <ColumnName>IDA</ColumnName>
      <Ressource>Ida</Ressource>
      <DataType>int</DataType>
      <Length>10</Length>
      <Colspan>0</Colspan>
      <Scale>0</Scale>
      <IsMandatory>true</IsMandatory>
      <RegularExpression></RegularExpression>
      <Default></Default>
      <IsHide>false</IsHide>
      <IsHideInDataGrid>false</IsHideInDataGrid>
      <IsKeyField>false</IsKeyField>
      <IsDataKeyField>false</IsDataKeyField>
      <IsForeignKeyField>true</IsForeignKeyField>
      <IsIdentity>false</IsIdentity>
      <IsUpdatable>false</IsUpdatable>
      <IsOrderBy>true</IsOrderBy>
      <Relation>
        <TableName>ACTOR</TableName>
        <AliasTableName>a1</AliasTableName>
        <ColumnRelation>
          <ColumnName>IDA</ColumnName>
          <DataType>int</DataType>
        </ColumnRelation>
        <ColumnSelect>
          <ColumnName>IDENTIFIER</ColumnName>
          <Ressource>BookOwner</Ressource>
          <DataType>string</DataType>
        </ColumnSelect>
        <ColumnLabel>
          <ColumnName>DISPLAYNAME</ColumnName>
          <Ressource>BookOwner</Ressource>
          <DataType>string</DataType>
        </ColumnLabel>
        <Condition>
          <TableName>VW_ACTORROLE</TableName>
          <AliasTableName>vwar</AliasTableName>
          <ColumnRelation>
            <ColumnName>IDA</ColumnName>
            <DataType>int</DataType>
          </ColumnRelation>
          <SQLWhere>vwar.IDROLEACTOR in ('ENTITY','DESK','CLIENT','COUNTERPARTY','BROKER') or vwar.ISPARTYRELATION = 1</SQLWhere>
        </Condition>
        <AutoComplete enabled="true"/>
      </Relation>
      <html_BLOCK title="Actor" columnbyrow="3" ></html_BLOCK>
    </Column>

    <Column>
      <ColumnName>ROLE</ColumnName>
      <AliasTableName>aIdRole</AliasTableName>
      <Ressource>IdRoleActorBookOwner</Ressource>
      <DataType>string</DataType>
      <Length>256</Length>
      <Scale>0</Scale>
      <IsMandatory>false</IsMandatory>
      <RegularExpression></RegularExpression>
      <Default></Default>
      <IsHide>true</IsHide>
      <IsHideInDataGrid>true</IsHideInDataGrid>
      <IsHideInCriteria>false</IsHideInCriteria>
      <IsKeyField>false</IsKeyField>
      <IsDataKeyField>false</IsDataKeyField>
      <IsIdentity>false</IsIdentity>
      <IsUpdatable>true</IsUpdatable>
      <IsVirtualColumn>true</IsVirtualColumn>
      <Relation></Relation>
    </Column>

    <Column>
      <ColumnName>IDB</ColumnName>
      <Ressource>IDB</Ressource>
      <DataType>int</DataType>
      <Length>10</Length>
      <Scale>0</Scale>
      <IsMandatory>true</IsMandatory>
      <RegularExpression></RegularExpression>
      <Default></Default>
      <IsHide>true</IsHide>
      <IsHideInDataGrid>true</IsHideInDataGrid>
      <IsKeyField>false</IsKeyField>
      <IsDataKeyField>true</IsDataKeyField>
      <IsIdentity>true</IsIdentity>
      <IsUpdatable>false</IsUpdatable>
      <Relation></Relation>
      <html_BLOCK title="Characteristics" columnbyrow="3" ></html_BLOCK>
    </Column>
    <Column>
      <ColumnName>IDENTIFIER</ColumnName>
      <Ressource>IDENTIFIER_BOOK</Ressource>
      <DataType>string</DataType>
      <Length>64</Length>
      <Scale>0</Scale>
      <IsMandatory>true</IsMandatory>
      <RegularExpression>RegexStringAlphaNum</RegularExpression>
      <Default></Default>
      <IsHide>false</IsHide>
      <IsHideInDataGrid>false</IsHideInDataGrid>
      <IsKeyField>true</IsKeyField>
      <IsDataKeyField>false</IsDataKeyField>
      <IsIdentity>false</IsIdentity>
      <IsUpdatable>true</IsUpdatable>
      <Relation></Relation>
      <JavaScript>
        <Script attribut="onblur" name="EFS_Copy" control="DISPLAYNAME" condition="new"></Script>
      </JavaScript>
    </Column>
    <Column>
      <ColumnName>DISPLAYNAME</ColumnName>
      <Ressource>DISPLAYNAME_BOOK</Ressource>
      <DataType>string</DataType>
      <Colspan>2</Colspan>
      <Length>64</Length>
      <Scale>0</Scale>
      <IsMandatory>true</IsMandatory>
      <RegularExpression></RegularExpression>
      <Default></Default>
      <IsHide>false</IsHide>
      <IsHideInDataGrid>false</IsHideInDataGrid>
      <IsKeyField>false</IsKeyField>
      <IsDataKeyField>false</IsDataKeyField>
      <IsIdentity>false</IsIdentity>
      <IsUpdatable>true</IsUpdatable>
      <Relation></Relation>
    </Column>
    <Column>
      <ColumnName>DESCRIPTION</ColumnName>
      <Ressource>DESCRIPTION</Ressource>
      <DataType>string</DataType>
      <Colspan>0</Colspan>
      <Length>128</Length>
      <Scale>0</Scale>
      <IsMandatory>false</IsMandatory>
      <RegularExpression></RegularExpression>
      <Default></Default>
      <IsHide>false</IsHide>
      <IsHideInDataGrid>true</IsHideInDataGrid>
      <IsKeyField>false</IsKeyField>
      <IsDataKeyField>false</IsDataKeyField>
      <IsIdentity>false</IsIdentity>
      <IsUpdatable>true</IsUpdatable>
      <Relation></Relation>
    </Column>
    <Column>
      <ColumnName>IDC</ColumnName>
      <Ressource>IDC</Ressource>
      <DataType>string</DataType>
      <Colsapn>0</Colsapn>
      <Length>3</Length>
      <Scale>0</Scale>
      <IsMandatory>false</IsMandatory>
      <RegularExpression></RegularExpression>
      <Default></Default>
      <IsHide>false</IsHide>
      <IsHideInDataGrid>false</IsHideInDataGrid>
      <IsDataKeyField>false</IsDataKeyField>
      <IsKeyField>false</IsKeyField>
      <IsForeignKeyField>false</IsForeignKeyField>
      <IsIdentity>false</IsIdentity>
      <IsUpdatable>true</IsUpdatable>
      <IsOrderBy>false</IsOrderBy>
      <Relation>
        <DDLType>currency</DDLType>
      </Relation>
      <html_HR></html_HR>
    </Column>
    <Column>
      <ColumnName>IDA_ENTITY</ColumnName>
      <Ressource>IDA_ENTITY</Ressource>
      <DataType>int</DataType>
      <Colspan>0</Colspan>
      <Length>10</Length>
      <Scale>0</Scale>
      <IsMandatory>false</IsMandatory>
      <RegularExpression></RegularExpression>
      <Default></Default>
      <IsHide>false</IsHide>
      <IsHideInDataGrid>false</IsHideInDataGrid>
      <IsKeyField>false</IsKeyField>
      <IsDataKeyField>false</IsDataKeyField>
      <IsForeignKeyField>false</IsForeignKeyField>
      <IsIdentity>false</IsIdentity>
      <IsUpdatable>true</IsUpdatable>
      <IsOrderBy>true</IsOrderBy>
      <Relation>
        <TableName>ACTOR</TableName>
        <AliasTableName>a2</AliasTableName>
        <ColumnRelation>
          <ColumnName>IDA</ColumnName>
          <DataType>int</DataType>
        </ColumnRelation>
        <ColumnSelect>
          <ColumnName>IDENTIFIER</ColumnName>
          <Ressource>IDA_ENTITY</Ressource>
          <DataType>string</DataType>
        </ColumnSelect>
        <ColumnLabel>
          <ColumnName>DISPLAYNAME</ColumnName>
          <Ressource>IDA_ENTITY</Ressource>
          <DataType>string</DataType>
        </ColumnLabel>
        <Condition>
          <TableName>ACTORROLE</TableName>
          <ColumnRelation>
            <ColumnName>IDA</ColumnName>
            <DataType>int</DataType>
          </ColumnRelation>
          <SQLWhere>
            ACTORROLE.IDROLEACTOR in ('ENTITY')
            and ACTORROLE.IDA in (select IDA from dbo.ENTITY)
          </SQLWhere>
        </Condition>
        <AutoComplete enabled="true"/>
      </Relation>
      <Information>
        <Type>information</Type>
        <LabelMessage>Msg_IDA_ENTITYForBOOK</LabelMessage>
      </Information>
      <html_BLOCK title="Management_Title" columnbyrow="3" startdisplay="expand"></html_BLOCK>
      <html_HR title="AccountingBook_Title"></html_HR>
      <ContainerOverflow startheight="300">true</ContainerOverflow>
    </Column>
    <Column>
      <ColumnName>IDA_DECISIONOFFICE</ColumnName>
      <Ressource>IDA_DECISIONOFFICE</Ressource>
      <DataType>int</DataType>
      <Colspan>0</Colspan>
      <Length>10</Length>
      <Scale>0</Scale>
      <IsHide>false</IsHide>
      <IsUpdatable>true</IsUpdatable>
      <Relation>
        <TableName>ACTOR</TableName>
        <AliasTableName>a_dec</AliasTableName>
        <ColumnRelation>
          <ColumnName>IDA</ColumnName>
          <DataType>int</DataType>
        </ColumnRelation>
        <ColumnSelect>
          <ColumnName>IDENTIFIER</ColumnName>
          <Ressource>IDA_DECISIONOFFICE</Ressource>
          <DataType>string</DataType>
        </ColumnSelect>
        <ColumnLabel>
          <ColumnName>DISPLAYNAME</ColumnName>
          <Ressource>IDA_DECISIONOFFICE</Ressource>
          <DataType>string</DataType>
        </ColumnLabel>
        <Condition>
          <TableName>ACTORROLE</TableName>
          <ColumnRelation>
            <ColumnName>IDA</ColumnName>
            <DataType>int</DataType>
          </ColumnRelation>
          <SQLWhere>ACTORROLE.IDROLEACTOR = 'DECISIONOFFICE'</SQLWhere>
        </Condition>
        <AutoComplete enabled="true"/>
      </Relation>
      <Information>
        <Type>information</Type>
        <LabelMessage>Msg_IDA_DECISIONOFFICEForBOOK</LabelMessage>
      </Information>
      <html_HR title="Decision_Title"></html_HR>
    </Column>
    <Column>
      <ColumnName>IDA_CONTACTOFFICE</ColumnName>
      <Ressource>IDA_CONTACTOFFICE</Ressource>
      <DataType>int</DataType>
      <Colspan>0</Colspan>
      <Length>10</Length>
      <Scale>0</Scale>
      <IsMandatory>false</IsMandatory>
      <RegularExpression></RegularExpression>
      <Default></Default>
      <IsHide>false</IsHide>
      <IsHideInDataGrid>false</IsHideInDataGrid>
      <IsKeyField>false</IsKeyField>
      <IsDataKeyField>false</IsDataKeyField>
      <IsForeignKeyField>false</IsForeignKeyField>
      <IsIdentity>false</IsIdentity>
      <IsUpdatable>true</IsUpdatable>
      <IsOrderBy>true</IsOrderBy>
      <Relation>
        <TableName>ACTOR</TableName>
        <AliasTableName>a4</AliasTableName>
        <ColumnRelation>
          <ColumnName>IDA</ColumnName>
          <DataType>int</DataType>
        </ColumnRelation>
        <ColumnSelect>
          <ColumnName>IDENTIFIER</ColumnName>
          <Ressource>IDA_CONTACTOFFICE</Ressource>
          <DataType>string</DataType>
        </ColumnSelect>
        <ColumnLabel>
          <ColumnName>DISPLAYNAME</ColumnName>
          <Ressource>IDA_CONTACTOFFICE</Ressource>
          <DataType>string</DataType>
        </ColumnLabel>
        <Condition>
          <TableName>ACTORROLE</TableName>
          <ColumnRelation>
            <ColumnName>IDA</ColumnName>
            <DataType>int</DataType>
          </ColumnRelation>
          <SQLWhere>ACTORROLE.IDROLEACTOR in ('CONTACTOFFICE')</SQLWhere>
        </Condition>
        <AutoComplete enabled="true"/>
      </Relation>
      <Information>
        <Type>information</Type>
        <LabelMessage>Msg_IDA_CONTACTTOFFICEForBOOK</LabelMessage>
      </Information>
      <html_HR title="ConfirmationAndMail_Title"></html_HR>
    </Column>
    <Column>
      <ColumnName>ISRECEIVENCMSG</ColumnName>
      <Ressource>ISRECEIVENCMSG</Ressource>
      <DataType>bool</DataType>
      <Colspan>0</Colspan>
      <Length>1</Length>
      <Scale>0</Scale>
      <IsMandatory>false</IsMandatory>
      <RegularExpression></RegularExpression>
      <Default>
        <Value>true</Value>
      </Default>
      <IsHide>false</IsHide>
      <IsHideInDataGrid>false</IsHideInDataGrid>
      <IsDataKeyField>false</IsDataKeyField>
      <IsKeyField>false</IsKeyField>
      <IsForeignKeyField>false</IsForeignKeyField>
      <IsIdentity>false</IsIdentity>
      <IsUpdatable>true</IsUpdatable>
      <IsOrderBy>false</IsOrderBy>
      <Relation>
      </Relation>
      <Information>
        <Type>information</Type>
        <LabelMessage>Msg_ISRECEIVENCMSGForCNFMessage</LabelMessage>
      </Information>
    </Column>
    <Column>
      <ColumnName>IDA_STLOFFICE</ColumnName>
      <Ressource>IDA_STLOFFICE</Ressource>
      <DataType>int</DataType>
      <Colspan>0</Colspan>
      <Length>10</Length>
      <Scale>0</Scale>
      <IsMandatory>false</IsMandatory>
      <RegularExpression></RegularExpression>
      <Default></Default>
      <IsHide>false</IsHide>
      <IsHideInDataGrid>false</IsHideInDataGrid>
      <IsKeyField>false</IsKeyField>
      <IsDataKeyField>false</IsDataKeyField>
      <IsForeignKeyField>false</IsForeignKeyField>
      <IsIdentity>false</IsIdentity>
      <IsUpdatable>true</IsUpdatable>
      <IsOrderBy>true</IsOrderBy>
      <Relation>
        <TableName>ACTOR</TableName>
        <AliasTableName>a3</AliasTableName>
        <ColumnRelation>
          <ColumnName>IDA</ColumnName>
          <DataType>int</DataType>
        </ColumnRelation>
        <ColumnSelect>
          <ColumnName>IDENTIFIER</ColumnName>
          <Ressource>IDA_STLOFFICE</Ressource>
          <DataType>string</DataType>
        </ColumnSelect>
        <ColumnLabel>
          <ColumnName>DISPLAYNAME</ColumnName>
          <Ressource>IDA_STLOFFICE</Ressource>
          <DataType>string</DataType>
        </ColumnLabel>
        <Condition>
          <TableName>ACTORROLE</TableName>
          <ColumnRelation>
            <ColumnName>IDA</ColumnName>
            <DataType>int</DataType>
          </ColumnRelation>
          <SQLWhere>ACTORROLE.IDROLEACTOR in ('SETTLTOFFICE')</SQLWhere>
        </Condition>
        <AutoComplete enabled="true"/>
      </Relation>
      <Information>
        <Type>information</Type>
        <LabelMessage>Msg_IDA_STLOFFICEForBOOK</LabelMessage>
      </Information>
      <html_HR title="Settlement_Title"></html_HR>
    </Column>
    <Column>
      <ColumnName>IDA_INVOICEDOFFICE</ColumnName>
      <Ressource>IDA_INVOICEDOFFICE</Ressource>
      <DataType>int</DataType>
      <Colspan>0</Colspan>
      <Length>10</Length>
      <Scale>0</Scale>
      <IsMandatory>false</IsMandatory>
      <RegularExpression></RegularExpression>
      <Default></Default>
      <IsHide>false</IsHide>
      <IsHideInDataGrid>false</IsHideInDataGrid>
      <IsKeyField>false</IsKeyField>
      <IsDataKeyField>false</IsDataKeyField>
      <IsForeignKeyField>false</IsForeignKeyField>
      <IsIdentity>false</IsIdentity>
      <IsUpdatable>true</IsUpdatable>
      <IsOrderBy>true</IsOrderBy>
      <Relation>
        <TableName>ACTOR</TableName>
        <AliasTableName>a5</AliasTableName>
        <ColumnRelation>
          <ColumnName>IDA</ColumnName>
          <DataType>int</DataType>
        </ColumnRelation>
        <ColumnSelect>
          <ColumnName>IDENTIFIER</ColumnName>
          <Ressource>IDA_INVOICEDOFFICE</Ressource>
          <DataType>string</DataType>
        </ColumnSelect>
        <ColumnLabel>
          <ColumnName>DISPLAYNAME</ColumnName>
          <Ressource>IDA_INVOICEDOFFICE</Ressource>
          <DataType>string</DataType>
        </ColumnLabel>
        <Condition>
          <TableName>ACTORROLE</TableName>
          <ColumnRelation>
            <ColumnName>IDA</ColumnName>
            <DataType>int</DataType>
          </ColumnRelation>
          <SQLWhere>ACTORROLE.IDROLEACTOR in ('INVOICINGOFFICE')</SQLWhere>
        </Condition>
        <AutoComplete enabled="true"/>
      </Relation>
      <Information>
        <Type>information</Type>
        <LabelMessage>Msg_IDA_INVOICEDOFFICEForBOOK</LabelMessage>
      </Information>
      <html_HR title="Invoicing_Title"></html_HR>
    </Column>
    <Column>
      <ColumnName>IDA_REGOFFICE</ColumnName>
      <Ressource>IDA_REGOFFICE</Ressource>
      <!--<Ressource>Regulatory office</Ressource>-->
      <DataType>int</DataType>
      <Colspan>0</Colspan>
      <Length>10</Length>
      <Scale>0</Scale>
      <IsMandatory>false</IsMandatory>
      <RegularExpression></RegularExpression>
      <Default></Default>
      <IsHide>false</IsHide>
      <IsHideInDataGrid>false</IsHideInDataGrid>
      <IsKeyField>false</IsKeyField>
      <IsDataKeyField>false</IsDataKeyField>
      <IsForeignKeyField>false</IsForeignKeyField>
      <IsIdentity>false</IsIdentity>
      <IsUpdatable>true</IsUpdatable>
      <IsOrderBy>true</IsOrderBy>
      <Relation>
        <TableName>ACTOR</TableName>
        <AliasTableName>a_reg</AliasTableName>
        <ColumnRelation>
          <ColumnName>IDA</ColumnName>
          <DataType>int</DataType>
        </ColumnRelation>
        <ColumnSelect>
          <ColumnName>IDENTIFIER</ColumnName>
          <Ressource>IDA_REGOFFICE</Ressource>
          <!--<Ressource>Regulatory office</Ressource>-->
          <DataType>string</DataType>
        </ColumnSelect>
        <ColumnLabel>
          <ColumnName>DISPLAYNAME</ColumnName>
          <Ressource>IDA_REGOFFICE</Ressource>
          <!--<Ressource>Regulatory office</Ressource>-->
          <DataType>string</DataType>
        </ColumnLabel>
        <Condition>
          <TableName>ACTORROLE</TableName>
          <ColumnRelation>
            <ColumnName>IDA</ColumnName>
            <DataType>int</DataType>
          </ColumnRelation>
          <SQLWhere>ACTORROLE.IDROLEACTOR = 'REGULATORYOFFICE'</SQLWhere>
        </Condition>
        <AutoComplete enabled="true"/>
      </Relation>
      <Information>
        <Type>information</Type>
        <LabelMessage>Msg_IDA_REGOFFICEForBOOK</LabelMessage>
        <ToolTipMessage>Msg_IDA_REGOFFICE2ForBOOK</ToolTipMessage>
      </Information>
      <!--<Information>
        <Type>information</Type>
        <LabelMessage>
          <![CDATA[Regulatory office  of informations to the regulatory agencies (EMIR).]]>
        </LabelMessage>
        <ToolTipMessage>
          <![CDATA[Regulatory office  of informations to the regulatory agencies (EMIR).
          <br/>Example:
           <br/>- the Client outsources issuing statements to his Entity. The Entity declare, in addition to its own statements, those of the client's.
           <br/>- The Entity outsources issuing statements to his Clearing Broker, to avoid having to declare his only activity with respect to its clients.]]>
        </ToolTipMessage>
      </Information>-->
      <html_HR title="Regulation_Title"></html_HR>
      <!--<html_HR title="Regulation"></html_HR>-->
    </Column>
    <Column>
      <ColumnName>LOCALCLASSDERV</ColumnName>
      <Ressource>LOCALCLASSDERV</Ressource>
      <DataType>string</DataType>
      <Length>64</Length>
      <Scale>0</Scale>
      <IsMandatory>false</IsMandatory>
      <RegularExpression></RegularExpression>
      <Default></Default>
      <IsHide>false</IsHide>
      <IsHideInDataGrid>true</IsHideInDataGrid>
      <IsKeyField>false</IsKeyField>
      <IsDataKeyField>false</IsDataKeyField>
      <IsIdentity>false</IsIdentity>
      <IsUpdatable>true</IsUpdatable>
      <html_BLOCK title="AccountingClass_Title" columnbyrow="4" startdisplay="expand"></html_BLOCK>
      <html_HR title="Derivatives"></html_HR>
      <Relation>
        <DDLType>enum.LocalClassDerv</DDLType>
      </Relation>
    </Column>
    <Column>
      <ColumnName>ISULOCALCLASSDERV</ColumnName>
      <Ressource>ISULOCALCLASSDERV</Ressource>
      <DataType>bool</DataType>
      <Colspan>0</Colspan>
      <LabelWidth>80%</LabelWidth>
      <InputWidth>20%</InputWidth>
      <Length>1</Length>
      <Scale>0</Scale>
      <IsMandatory>true</IsMandatory>
      <RegularExpression></RegularExpression>
      <Default>
        <Value>false</Value>
      </Default>
      <IsHide>false</IsHide>
      <IsHideInDataGrid>true</IsHideInDataGrid>
      <IsKeyField>false</IsKeyField>
      <IsDataKeyField>false</IsDataKeyField>
      <IsIdentity>false</IsIdentity>
      <IsUpdatable>true</IsUpdatable>
      <Relation></Relation>
    </Column>
    <Column>
      <ColumnName>IASCLASSDERV</ColumnName>
      <Ressource>IASCLASSDERV</Ressource>
      <DataType>string</DataType>
      <Length>64</Length>
      <Scale>0</Scale>
      <IsMandatory>false</IsMandatory>
      <RegularExpression></RegularExpression>
      <Default></Default>
      <IsHide>false</IsHide>
      <IsHideInDataGrid>true</IsHideInDataGrid>
      <IsKeyField>false</IsKeyField>
      <IsDataKeyField>false</IsDataKeyField>
      <IsIdentity>false</IsIdentity>
      <IsUpdatable>true</IsUpdatable>
      <Relation>
        <DDLType>enum.IASClassDerv</DDLType>
      </Relation>
      <JavaScript>
        <Script attribut="onchange" name="EFS_Enabled" control="HEDGECLASSDERV" condition="HEDGING"></Script>
      </JavaScript>
    </Column>
    <Column>
      <ColumnName>ISUIASCLASSDERV</ColumnName>
      <Ressource>ISUIASCLASSDERV</Ressource>
      <DataType>bool</DataType>
      <LabelWidth>80%</LabelWidth>
      <InputWidth>20%</InputWidth>
      <Length>1</Length>
      <Scale>0</Scale>
      <IsMandatory>true</IsMandatory>
      <RegularExpression></RegularExpression>
      <Default>
        <Value>false</Value>
      </Default>
      <IsHide>false</IsHide>
      <IsHideInDataGrid>true</IsHideInDataGrid>
      <IsKeyField>false</IsKeyField>
      <IsDataKeyField>false</IsDataKeyField>
      <IsIdentity>false</IsIdentity>
      <IsUpdatable>true</IsUpdatable>
      <Relation></Relation>
    </Column>
    <Column>
      <ColumnName>HEDGECLASSDERV</ColumnName>
      <Ressource>HEDGECLASSDERV</Ressource>
      <DataType>string</DataType>
      <Length>64</Length>
      <Scale>0</Scale>
      <IsMandatory>false</IsMandatory>
      <RegularExpression></RegularExpression>
      <Default></Default>
      <IsHide>false</IsHide>
      <IsHideInDataGrid>true</IsHideInDataGrid>
      <IsKeyField>false</IsKeyField>
      <IsDataKeyField>false</IsDataKeyField>
      <IsIdentity>false</IsIdentity>
      <IsUpdatable>true</IsUpdatable>
      <Relation>
        <DDLType>enum.HedgeClassDerv</DDLType>
      </Relation>
    </Column>
    <Column>
      <ColumnName>ISUHEDGECLASSDERV</ColumnName>
      <Ressource>ISUHEDGECLASSDERV</Ressource>
      <DataType>bool</DataType>
      <LabelWidth>80%</LabelWidth>
      <Colspan>0</Colspan>
      <InputWidth>20%</InputWidth>
      <!--<LabelWidth>90%</LabelWidth>
      <InputWidth>10%</InputWidth>-->
      <Length>1</Length>
      <Scale>0</Scale>
      <IsMandatory>true</IsMandatory>
      <RegularExpression></RegularExpression>
      <Default>
        <Value>false</Value>
      </Default>
      <IsHide>false</IsHide>
      <IsHideInDataGrid>true</IsHideInDataGrid>
      <IsKeyField>false</IsKeyField>
      <IsDataKeyField>false</IsDataKeyField>
      <IsIdentity>false</IsIdentity>
      <IsUpdatable>true</IsUpdatable>
      <Relation></Relation>
    </Column>
    <Column>
      <ColumnName>LOCALCLASSNDRV</ColumnName>
      <Ressource>LOCALCLASSNDRV</Ressource>
      <DataType>string</DataType>
      <Length>64</Length>
      <Scale>0</Scale>
      <IsMandatory>false</IsMandatory>
      <RegularExpression></RegularExpression>
      <Default></Default>
      <IsHide>false</IsHide>
      <IsHideInDataGrid>true</IsHideInDataGrid>
      <IsDataKeyField>false</IsDataKeyField>
      <IsKeyField>false</IsKeyField>
      <IsForeignKeyField>false</IsForeignKeyField>
      <IsIdentity>false</IsIdentity>
      <IsUpdatable>true</IsUpdatable>
      <IsOrderBy>false</IsOrderBy>
      <Relation>
        <DDLType>enum.LocalClassNDrv</DDLType>
      </Relation>
      <html_HR title="NoDerivatives"></html_HR>
    </Column>
    <Column>
      <ColumnName>ISULOCALCLASSNDRV</ColumnName>
      <Ressource>ISULOCALCLASSNDRV</Ressource>
      <DataType>bool</DataType>
      <Colspan>0</Colspan>
      <LabelWidth>80%</LabelWidth>
      <InputWidth>20%</InputWidth>
      <Length>1</Length>
      <Scale>0</Scale>
      <IsMandatory>true</IsMandatory>
      <RegularExpression></RegularExpression>
      <Default>
        <Value>false</Value>
      </Default>
      <IsHide>false</IsHide>
      <IsHideInDataGrid>true</IsHideInDataGrid>
      <IsDataKeyField>false</IsDataKeyField>
      <IsKeyField>false</IsKeyField>
      <IsForeignKeyField>false</IsForeignKeyField>
      <IsIdentity>false</IsIdentity>
      <IsUpdatable>true</IsUpdatable>
      <IsOrderBy>false</IsOrderBy>
      <Relation>
      </Relation>
    </Column>
    <Column>
      <ColumnName>IASCLASSNDRV</ColumnName>
      <Ressource>IASCLASSNDRV</Ressource>
      <DataType>string</DataType>
      <Length>64</Length>
      <Scale>0</Scale>
      <IsMandatory>false</IsMandatory>
      <RegularExpression></RegularExpression>
      <Default></Default>
      <IsHide>false</IsHide>
      <IsHideInDataGrid>true</IsHideInDataGrid>
      <IsDataKeyField>false</IsDataKeyField>
      <IsKeyField>false</IsKeyField>
      <IsForeignKeyField>false</IsForeignKeyField>
      <IsIdentity>false</IsIdentity>
      <IsUpdatable>true</IsUpdatable>
      <IsOrderBy>false</IsOrderBy>
      <Relation>
        <DDLType>enum.IASClassNDrv</DDLType>
      </Relation>
      <JavaScript>
        <Script attribut="onchange" name="EFS_Enabled" control="HEDGECLASSNDRV" condition="HEDGING" ></Script>
      </JavaScript>
    </Column>
    <Column>
      <ColumnName>ISUIASCLASSNDRV</ColumnName>
      <Ressource>ISUIASCLASSNDRV</Ressource>
      <DataType>bool</DataType>
      <LabelWidth>80%</LabelWidth>
      <InputWidth>20%</InputWidth>
      <Length>1</Length>
      <Scale>0</Scale>
      <IsMandatory>true</IsMandatory>
      <RegularExpression></RegularExpression>
      <Default>
        <Value>false</Value>
      </Default>
      <IsHide>false</IsHide>
      <IsHideInDataGrid>true</IsHideInDataGrid>
      <IsDataKeyField>false</IsDataKeyField>
      <IsKeyField>false</IsKeyField>
      <IsForeignKeyField>false</IsForeignKeyField>
      <IsIdentity>false</IsIdentity>
      <IsUpdatable>true</IsUpdatable>
      <IsOrderBy>false</IsOrderBy>
      <Relation>
      </Relation>
    </Column>
    <Column>
      <ColumnName>HEDGECLASSNDRV</ColumnName>
      <Ressource>HEDGECLASSNDRV</Ressource>
      <DataType>string</DataType>
      <Length>64</Length>
      <Scale>0</Scale>
      <IsMandatory>false</IsMandatory>
      <RegularExpression></RegularExpression>
      <Default></Default>
      <IsHide>false</IsHide>
      <IsHideInDataGrid>true</IsHideInDataGrid>
      <IsKeyField>false</IsKeyField>
      <IsDataKeyField>false</IsDataKeyField>
      <IsIdentity>false</IsIdentity>
      <IsUpdatable>true</IsUpdatable>
      <Relation>
        <DDLType>enum.HedgeClassNDrv</DDLType>
      </Relation>
    </Column>
    <Column>
      <ColumnName>ISUHEDGECLASSNDRV</ColumnName>
      <Ressource>ISUHEDGECLASSNDRV</Ressource>
      <DataType>bool</DataType>
      <Colspan>0</Colspan>
      <LabelWidth>80%</LabelWidth>
      <InputWidth>20%</InputWidth>
      <Length>1</Length>
      <Scale>0</Scale>
      <IsMandatory>true</IsMandatory>
      <RegularExpression></RegularExpression>
      <Default>
        <Value>false</Value>
      </Default>
      <IsHide>false</IsHide>
      <IsHideInDataGrid>true</IsHideInDataGrid>
      <IsKeyField>false</IsKeyField>
      <IsDataKeyField>false</IsDataKeyField>
      <IsIdentity>false</IsIdentity>
      <IsUpdatable>true</IsUpdatable>
      <Relation></Relation>
    </Column>
    <Column>
      <ColumnName>FXCLASS</ColumnName>
      <Ressource>FXCLASS</Ressource>
      <DataType>string</DataType>
      <Length>64</Length>
      <Scale>0</Scale>
      <IsMandatory>false</IsMandatory>
      <RegularExpression></RegularExpression>
      <Default></Default>
      <IsHide>false</IsHide>
      <IsHideInDataGrid>true</IsHideInDataGrid>
      <IsDataKeyField>false</IsDataKeyField>
      <IsKeyField>false</IsKeyField>
      <IsForeignKeyField>false</IsForeignKeyField>
      <IsIdentity>false</IsIdentity>
      <IsUpdatable>true</IsUpdatable>
      <IsOrderBy>false</IsOrderBy>
      <Relation>
        <DDLType>enum.FxClass</DDLType>
      </Relation>
      <html_HR title="ForeignExchange"></html_HR>
    </Column>
    <Column>
      <ColumnName>ISUFXCLASS</ColumnName>
      <Ressource>ISUFXCLASS</Ressource>
      <DataType>bool</DataType>
      <Colspan>0</Colspan>
      <LabelWidth>80%</LabelWidth>
      <InputWidth>20%</InputWidth>
      <Length>1</Length>
      <Scale>0</Scale>
      <IsMandatory>true</IsMandatory>
      <RegularExpression></RegularExpression>
      <Default>
        <Value>false</Value>
      </Default>
      <IsHide>false</IsHide>
      <IsHideInDataGrid>true</IsHideInDataGrid>
      <IsDataKeyField>false</IsDataKeyField>
      <IsKeyField>false</IsKeyField>
      <IsForeignKeyField>false</IsForeignKeyField>
      <IsIdentity>false</IsIdentity>
      <IsUpdatable>true</IsUpdatable>
      <IsOrderBy>false</IsOrderBy>
      <Relation></Relation>
    </Column>
    <Column>
      <ColumnName>MTMMETHOD</ColumnName>
      <Ressource>MTMMETHOD</Ressource>
      <DataType>string</DataType>
      <Colspan>4</Colspan>
      <Length>64</Length>
      <Scale>0</Scale>
      <IsMandatory>false</IsMandatory>
      <RegularExpression></RegularExpression>
      <Default></Default>
      <IsHide>false</IsHide>
      <IsHideInDataGrid>true</IsHideInDataGrid>
      <IsKeyField>false</IsKeyField>
      <IsDataKeyField>false</IsDataKeyField>
      <IsIdentity>false</IsIdentity>
      <IsUpdatable>true</IsUpdatable>
      <Relation></Relation>
    </Column>

    <Column>
      <ColumnName>ISPOSKEEPING</ColumnName>
      <Ressource>ISPOSKEEPING</Ressource>
      <Colspan>0</Colspan>
      <DataType>bool</DataType>
      <Length>1</Length>
      <Scale>0</Scale>
      <IsMandatory>true</IsMandatory>
      <RegularExpression></RegularExpression>
      <Default>
        <Value>false</Value>
      </Default>
      <IsHide>false</IsHide>
      <IsHideInDataGrid>false</IsHideInDataGrid>
      <IsDataKeyField>false</IsDataKeyField>
      <IsKeyField>false</IsKeyField>
      <IsForeignKeyField>false</IsForeignKeyField>
      <IsIdentity>false</IsIdentity>
      <IsUpdatable>true</IsUpdatable>
      <IsOrderBy>false</IsOrderBy>
      <Relation>
      </Relation>
      <html_BLOCK title="PositionKeeping_Title" columnbyrow="7" startdisplay="expand">
        <Information>
          <Type>information</Type>
          <LabelMessage>Msg_POSKEEPINGCriteriaForBOOK</LabelMessage>
        </Information>
      </html_BLOCK>
      <Information>
        <Type>information</Type>
        <LabelMessage>Msg_ISPOSKEEPINGForBOOK</LabelMessage>
      </Information>
      <html_HR  title="Poskeeping_Title"></html_HR>
    </Column>
    
    <Column>
      <ColumnName>OTCPOSEFFECT</ColumnName>
      <Ressource>OTCPOSEFFECT</Ressource>
      <DataType>string</DataType>
      <Colspan>0</Colspan>
      <Length>64</Length>
      <Scale>0</Scale>
      <IsMandatory>false</IsMandatory>
      <RegularExpression></RegularExpression>
      <Default></Default>
      <IsHide>false</IsHide>
      <IsHideInDataGrid>false</IsHideInDataGrid>
      <IsDataKeyField>false</IsDataKeyField>
      <IsKeyField>false</IsKeyField>
      <IsForeignKeyField>false</IsForeignKeyField>
      <IsIdentity>false</IsIdentity>
      <IsUpdatable>true</IsUpdatable>
      <IsOrderBy>false</IsOrderBy>
      <Relation>
        <TableName>ENUM</TableName>
        <AliasTableName>otcpos</AliasTableName>
        <ColumnRelation>
          <ColumnName>VALUE</ColumnName>
          <DataType>string</DataType>
        </ColumnRelation>
        <ColumnSelect>
          <ColumnName>EXTVALUE</ColumnName>
          <Ressource>OTCPOSEFFECT</Ressource>
          <DataType>string</DataType>
        </ColumnSelect>
        <Condition apply="ALL">
          <SQLWhere>CODE='PositionEffectEnum'</SQLWhere>
        </Condition>
        <Condition apply="ALL">
          <SQLWhere>VALUE in ('F')</SQLWhere>
        </Condition>
        <Condition>
          <SQLWhere>ISENABLED=1</SQLWhere>
        </Condition>
      </Relation>
      <Information>
        <Type>information</Type>
        <LabelMessage>Msg_KEEPINGForBOOK</LabelMessage>
      </Information>
      <html_HR title="Over the counter" size="2"></html_HR>
    </Column>
    <Column>
      <ColumnName>SECPOSEFFECT</ColumnName>
      <Ressource>SECPOSEFFECT</Ressource>
      <DataType>string</DataType>
      <Colspan>0</Colspan>
      <Length>64</Length>
      <Scale>0</Scale>
      <IsMandatory>false</IsMandatory>
      <RegularExpression></RegularExpression>
      <Default></Default>
      <IsHide>false</IsHide>
      <IsHideInDataGrid>false</IsHideInDataGrid>
      <IsDataKeyField>false</IsDataKeyField>
      <IsKeyField>false</IsKeyField>
      <IsForeignKeyField>false</IsForeignKeyField>
      <IsIdentity>false</IsIdentity>
      <IsUpdatable>true</IsUpdatable>
      <IsOrderBy>false</IsOrderBy>
      <Relation>
        <TableName>ENUM</TableName>
        <AliasTableName>secpos</AliasTableName>
        <ColumnRelation>
          <ColumnName>VALUE</ColumnName>
          <DataType>string</DataType>
        </ColumnRelation>
        <ColumnSelect>
          <ColumnName>EXTVALUE</ColumnName>
          <Ressource>SECPOSEFFECT</Ressource>
          <DataType>string</DataType>
        </ColumnSelect>
        <Condition apply="ALL">
          <SQLWhere>CODE='PositionEffectEnum'</SQLWhere>
        </Condition>
        <Condition apply="ALL">
          <SQLWhere>VALUE in ('F','L','W')</SQLWhere>
        </Condition>
        <!-- CC/PL 20121019 Ajout condition sur ENUM.ISENABLED                           -->
        <!-- Pour afficher dans la dropdown du formulaire les valeurs enabled de l'enum. -->
        <Condition>
          <SQLWhere>ISENABLED=1</SQLWhere>
        </Condition>
      </Relation>
      <!--Relation>
        <DDLType>enum.[code:PositionEffectEnum;condition:(VALUE in('F','L','W'))]</DDLType>
      </Relation-->
      <Information>
        <Type>information</Type>
        <LabelMessage>Msg_KEEPINGForBOOK</LabelMessage>
      </Information>
      <html_HR title="Securities" size="2"></html_HR>
    </Column>
    <!-- CC/PL 201300312 Column deprecated -->
    <!--<Column>
      <ColumnName>ISUSECPOSEFFECT_DEPRECATED</ColumnName>
      <Ressource>UPDATABLE</Ressource>
      <Colspan>0</Colspan>
      <DataType>bool</DataType>
      <Length>2</Length>
      <Scale>0</Scale>
      <IsMandatory>true</IsMandatory>
      <RegularExpression></RegularExpression>
      <Default>
        <Value>false</Value>
      </Default>
      <IsHide>false</IsHide>
      <IsHideInDataGrid>true</IsHideInDataGrid>
      <IsDataKeyField>false</IsDataKeyField>
      <IsKeyField>false</IsKeyField>
      <IsForeignKeyField>false</IsForeignKeyField>
      <IsIdentity>false</IsIdentity>
      <IsUpdatable>true</IsUpdatable>
      <IsOrderBy>false</IsOrderBy>
      <Relation>
      </Relation>
      <Information>
        <Type>information</Type>
        <LabelMessage>Msg_KEEPINGForBOOK</LabelMessage>
      </Information>
    </Column>-->
    <Column>
      <ColumnName>FUTPOSEFFECT</ColumnName>
      <Ressource>FUTPOSEFFECT</Ressource>
      <DataType>string</DataType>
      <Colspan>0</Colspan>
      <Length>64</Length>
      <Scale>0</Scale>
      <IsMandatory>false</IsMandatory>
      <RegularExpression></RegularExpression>
      <Default></Default>
      <IsHide>false</IsHide>
      <IsHideInDataGrid>false</IsHideInDataGrid>
      <IsDataKeyField>false</IsDataKeyField>
      <IsKeyField>false</IsKeyField>
      <IsForeignKeyField>false</IsForeignKeyField>
      <IsIdentity>false</IsIdentity>
      <IsUpdatable>true</IsUpdatable>
      <IsOrderBy>false</IsOrderBy>
      <Relation>
        <TableName>ENUM</TableName>
        <AliasTableName>futpos</AliasTableName>
        <ColumnRelation>
          <ColumnName>VALUE</ColumnName>
          <DataType>string</DataType>
        </ColumnRelation>
        <ColumnSelect>
          <ColumnName>EXTVALUE</ColumnName>
          <Ressource>FUTPOSEFFECT</Ressource>
          <DataType>string</DataType>
        </ColumnSelect>
        <Condition apply="ALL">
          <SQLWhere>CODE='PositionEffectEnum'</SQLWhere>
        </Condition>
        <Condition apply="ALL">
          <!--<SQLWhere>VALUE in ('O','C')</SQLWhere>-->
          <SQLWhere>VALUE in ('O','C','F','L','H','I')</SQLWhere>
        </Condition>
        <!-- CC/PL 20121019 Ajout condition sur ENUM.ISENABLED                           -->
        <!-- Pour afficher dans la dropdown du formulaire les valeurs enabled de l'enum. -->
        <Condition>
          <SQLWhere>ISENABLED=1</SQLWhere>
        </Condition>
      </Relation>
      <!--Relation>
        <DDLType>enum.[code:PositionEffectEnum;condition:(VALUE in('O','C'))]</DDLType>
      </Relation-->
      <Information>
        <Type>information</Type>
        <LabelMessage>Msg_KEEPINGForBOOK</LabelMessage>
      </Information>
      <html_HR title="Futures" size="2"></html_HR>
    </Column>
    <!-- CC/PL 201300312 Column deprecated -->
    <!--<Column>
      <ColumnName>ISUFUTPOSEFFECT_DEPRECATED</ColumnName>
      <Ressource>UPDATABLE</Ressource>
      <Colspan>3</Colspan>      
      <DataType>bool</DataType>
      <Length>1</Length>
      <Scale>0</Scale>
      <IsMandatory>true</IsMandatory>
      <RegularExpression></RegularExpression>
      <Default>
        <Value>false</Value>
      </Default>
      <IsHide>false</IsHide>
      <IsHideInDataGrid>true</IsHideInDataGrid>
      <IsDataKeyField>false</IsDataKeyField>
      <IsKeyField>false</IsKeyField>
      <IsForeignKeyField>false</IsForeignKeyField>
      <IsIdentity>false</IsIdentity>
      <IsUpdatable>true</IsUpdatable>
      <IsOrderBy>false</IsOrderBy>
      <Relation>
      </Relation>
      <Information>
        <Type>information</Type>
        <LabelMessage>Msg_KEEPINGForBOOK</LabelMessage>
      </Information>
    </Column>-->
    <Column>
      <ColumnName>ISFUTPOSEFCTIGNORE</ColumnName>
      <Ressource>ISPOSEFCTIGNORE</Ressource>
      <DataType>bool</DataType>
      <Colspan>0</Colspan>
      <Length>1</Length>
      <Scale>0</Scale>
      <IsMandatory>true</IsMandatory>
      <RegularExpression></RegularExpression>
      <Default>
        <Value>false</Value>
      </Default>
      <IsHide>false</IsHide>
      <IsHideInDataGrid>true</IsHideInDataGrid>
      <IsHideInCriteria>true</IsHideInCriteria>
      <IsDataKeyField>false</IsDataKeyField>
      <IsKeyField>false</IsKeyField>
      <IsForeignKeyField>false</IsForeignKeyField>
      <IsIdentity>false</IsIdentity>
      <IsUpdatable>true</IsUpdatable>
      <IsOrderBy>false</IsOrderBy>
      <Relation>
      </Relation>
      <Information>
        <Type>information</Type>
        <LabelMessage>Msg_ISPOSEFCTIGNORE</LabelMessage>
      </Information>
    </Column>
    <Column>
      <ColumnName>ISFUTCLEARINGEOD</ColumnName>
      <Ressource>ISCLEARINGEODFUT</Ressource>
      <DataType>bool</DataType>
      <Colspan>0</Colspan>
      <Length>1</Length>
      <Scale>0</Scale>
      <IsMandatory>true</IsMandatory>
      <RegularExpression></RegularExpression>
      <Default>
        <Value>false</Value>
      </Default>
      <IsHide>false</IsHide>
      <IsHideInDataGrid>false</IsHideInDataGrid>
      <IsDataKeyField>false</IsDataKeyField>
      <IsKeyField>false</IsKeyField>
      <IsForeignKeyField>false</IsForeignKeyField>
      <IsIdentity>false</IsIdentity>
      <IsUpdatable>true</IsUpdatable>
      <IsOrderBy>false</IsOrderBy>
      <Relation>
      </Relation>
      <Information>
        <Type>information</Type>
        <LabelMessage>Msg_ISCLEARINGEODForBOOK</LabelMessage>
      </Information>
      <html_HR  title="Empty" size="1"></html_HR>
    </Column>
    <Column>
      <ColumnName>OPTPOSEFFECT</ColumnName>
      <Ressource>OPTPOSEFFECT</Ressource>
      <DataType>string</DataType>
      <Colspan>0</Colspan>
      <Length>64</Length>
      <Scale>0</Scale>
      <IsMandatory>false</IsMandatory>
      <RegularExpression></RegularExpression>
      <Default></Default>
      <IsHide>false</IsHide>
      <IsHideInDataGrid>false</IsHideInDataGrid>
      <IsDataKeyField>false</IsDataKeyField>
      <IsKeyField>false</IsKeyField>
      <IsForeignKeyField>false</IsForeignKeyField>
      <IsIdentity>false</IsIdentity>
      <IsUpdatable>true</IsUpdatable>
      <IsOrderBy>false</IsOrderBy>
      <Relation>
        <TableName>ENUM</TableName>
        <AliasTableName>optpos</AliasTableName>
        <ColumnRelation>
          <ColumnName>VALUE</ColumnName>
          <DataType>string</DataType>
        </ColumnRelation>
        <ColumnSelect>
          <ColumnName>EXTVALUE</ColumnName>
          <Ressource>OPTPOSEFFECT</Ressource>
          <DataType>string</DataType>
        </ColumnSelect>
        <Condition apply="ALL">
          <SQLWhere>CODE='PositionEffectEnum'</SQLWhere>
        </Condition>
        <Condition apply="ALL">
          <!--<SQLWhere>VALUE in ('O','C')</SQLWhere>-->
          <SQLWhere>VALUE in ('O','C','F','L','H','I')</SQLWhere>
        </Condition>
        <!-- CC/PL 20121019 Ajout condition sur ENUM.ISENABLED                           -->
        <!-- Pour afficher dans la dropdown du formulaire les valeurs enabled de l'enum. -->
        <Condition>
          <SQLWhere>ISENABLED=1</SQLWhere>
        </Condition>
      </Relation>
      <!--Relation>
        <DDLType>enum.[code:PositionEffectEnum;condition:(VALUE in('O','C'))]</DDLType>
      </Relation-->
      <Information>
        <Type>information</Type>
        <LabelMessage>Msg_KEEPINGForBOOK</LabelMessage>
      </Information>
      <html_HR title="Options" size="2"></html_HR>
    </Column>
    <!-- CC/PL 201300312 Column deprecated -->
    <!--<Column>
      <ColumnName>ISUOPTPOSEFFECT_DEPRECATED</ColumnName>
      <Ressource>UPDATABLE</Ressource>
      <Colspan>3</Colspan>
      <DataType>bool</DataType>
      <Length>1</Length>
      <Scale>0</Scale>
      <IsMandatory>true</IsMandatory>
      <RegularExpression></RegularExpression>
      <Default>
        <Value>false</Value>
      </Default>
      <IsHide>false</IsHide>
      <IsHideInDataGrid>true</IsHideInDataGrid>
      <IsDataKeyField>false</IsDataKeyField>
      <IsKeyField>false</IsKeyField>
      <IsForeignKeyField>false</IsForeignKeyField>
      <IsIdentity>false</IsIdentity>
      <IsUpdatable>true</IsUpdatable>
      <IsOrderBy>false</IsOrderBy>
      <Relation>
      </Relation>
      <Information>
        <Type>information</Type>
        <LabelMessage>Msg_KEEPINGForBOOK</LabelMessage>
      </Information>
    </Column>-->
    <Column>
      <ColumnName>ISOPTPOSEFCTIGNORE</ColumnName>
      <Ressource>ISPOSEFCTIGNORE</Ressource>
      <DataType>bool</DataType>
      <Colspan>0</Colspan>
      <Length>1</Length>
      <Scale>0</Scale>
      <IsMandatory>true</IsMandatory>
      <RegularExpression></RegularExpression>
      <Default>
        <Value>false</Value>
      </Default>
      <IsHide>false</IsHide>
      <IsHideInDataGrid>true</IsHideInDataGrid>
      <IsHideInCriteria>true</IsHideInCriteria>
      <IsDataKeyField>false</IsDataKeyField>
      <IsKeyField>false</IsKeyField>
      <IsForeignKeyField>false</IsForeignKeyField>
      <IsIdentity>false</IsIdentity>
      <IsUpdatable>true</IsUpdatable>
      <IsOrderBy>false</IsOrderBy>
      <Relation>
      </Relation>
      <Information>
        <Type>information</Type>
        <LabelMessage>Msg_ISPOSEFCTIGNORE</LabelMessage>
      </Information>
    </Column>
    <Column>
      <ColumnName>ISOPTCLEARINGEOD</ColumnName>
      <Ressource>ISCLEARINGEODOPT</Ressource>
      <DataType>bool</DataType>
      <Colspan>0</Colspan>
      <Length>1</Length>
      <Scale>0</Scale>
      <IsMandatory>true</IsMandatory>
      <RegularExpression></RegularExpression>
      <Default>
        <Value>false</Value>
      </Default>
      <IsHide>false</IsHide>
      <IsHideInDataGrid>false</IsHideInDataGrid>
      <IsDataKeyField>false</IsDataKeyField>
      <IsKeyField>false</IsKeyField>
      <IsForeignKeyField>false</IsForeignKeyField>
      <IsIdentity>false</IsIdentity>
      <IsUpdatable>true</IsUpdatable>
      <IsOrderBy>false</IsOrderBy>
      <Relation>
      </Relation>
      <Information>
        <Type>information</Type>
        <LabelMessage>Msg_ISCLEARINGEODForBOOK</LabelMessage>
      </Information>
      <html_HR  title="Empty" size="1"></html_HR>
    </Column>

    <Column>
      <ColumnName>ACCRUEDINTMETHOD</ColumnName>
      <Ressource>ACCRUEDINTMETHOD</Ressource>
      <DataType>string</DataType>
      <Length>64</Length>
      <Scale>0</Scale>
      <IsMandatory>false</IsMandatory>
      <RegularExpression></RegularExpression>
      <Default></Default>
      <IsHide>false</IsHide>
      <IsHideInDataGrid>true</IsHideInDataGrid>
      <IsKeyField>false</IsKeyField>
      <IsDataKeyField>false</IsDataKeyField>
      <IsIdentity>false</IsIdentity>
      <IsUpdatable>true</IsUpdatable>
      <Relation></Relation>
      <html_BLOCK title="DefaultAccruedInterest" blockbyrow="2" width="35%" columnbyrow="1"></html_BLOCK>
    </Column>
    <Column>
      <ColumnName>ACCRUEDINTPERIOD</ColumnName>
      <Ressource>ACCRUEDINTPERIOD</Ressource>
      <DataType>string</DataType>
      <Length>64</Length>
      <Scale>0</Scale>
      <IsMandatory>false</IsMandatory>
      <RegularExpression></RegularExpression>
      <Default></Default>
      <IsHide>false</IsHide>
      <IsHideInDataGrid>true</IsHideInDataGrid>
      <IsKeyField>false</IsKeyField>
      <IsDataKeyField>false</IsDataKeyField>
      <IsIdentity>false</IsIdentity>
      <IsUpdatable>true</IsUpdatable>
      <Relation></Relation>
      <html_BLOCK title="DefaultLinearDepreciation" blockbyrow="2" width="65%" columnbyrow="2"></html_BLOCK>
    </Column>
    <Column>
      <ColumnName>LINEARDEPPERIOD</ColumnName>
      <Ressource>LINEARDEPPERIOD</Ressource>
      <DataType>string</DataType>
      <Length>64</Length>
      <Scale>0</Scale>
      <IsMandatory>false</IsMandatory>
      <RegularExpression></RegularExpression>
      <Default></Default>
      <IsHide>false</IsHide>
      <IsHideInDataGrid>true</IsHideInDataGrid>
      <IsKeyField>false</IsKeyField>
      <IsDataKeyField>false</IsDataKeyField>
      <IsIdentity>false</IsIdentity>
      <IsUpdatable>true</IsUpdatable>
      <Relation></Relation>
    </Column>
    <Column>
      <ColumnName>VRFEE</ColumnName>
      <Ressource>VRFEE</Ressource>
      <DataType>string</DataType>
      <Length>64</Length>
      <Scale>0</Scale>
      <IsMandatory>false</IsMandatory>
      <RegularExpression></RegularExpression>
      <Default></Default>
      <IsHide>false</IsHide>
      <IsHideInDataGrid>true</IsHideInDataGrid>
      <IsDataKeyField>false</IsDataKeyField>
      <IsKeyField>false</IsKeyField>
      <IsForeignKeyField>false</IsForeignKeyField>
      <IsIdentity>false</IsIdentity>
      <IsUpdatable>true</IsUpdatable>
      <Relation>
        <DDLType>CheckModeEnum</DDLType>
      </Relation>
      <Information>
        <Type>information</Type>
        <LabelMessage>Msg_VRFEEForBOOK</LabelMessage>
        <ToolTipMessage>Msg_VRFEE2ForBOOK</ToolTipMessage>
      </Information>
      <html_BLOCK title="ValidationRules_Title" columnbyrow="1"></html_BLOCK>
    </Column>
    <Column>
      <ColumnName>DTENABLED</ColumnName>
      <Ressource>DTENABLED</Ressource>
      <DataType>date</DataType>
      <Length>8</Length>
      <Scale>0</Scale>
      <IsMandatory>true</IsMandatory>
      <RegularExpression></RegularExpression>
      <Default>
        <Value>today</Value>
      </Default>
      <IsHide>false</IsHide>
      <IsHideInDataGrid>false</IsHideInDataGrid>
      <IsKeyField>false</IsKeyField>
      <IsDataKeyField>false</IsDataKeyField>
      <IsIdentity>false</IsIdentity>
      <IsUpdatable>true</IsUpdatable>
      <Relation></Relation>
      <html_BLOCK title="Status" blockbyrow="2" width="25%" columnbyrow="1"></html_BLOCK>
    </Column>
    <Column>
      <ColumnName>DTDISABLED</ColumnName>
      <Ressource>DTDISABLED</Ressource>
      <DataType>date</DataType>
      <Length>8</Length>
      <Scale>0</Scale>
      <IsMandatory>false</IsMandatory>
      <RegularExpression></RegularExpression>
      <Default></Default>
      <IsHide>false</IsHide>
      <IsHideInDataGrid>false</IsHideInDataGrid>
      <IsKeyField>false</IsKeyField>
      <IsDataKeyField>false</IsDataKeyField>
      <IsIdentity>false</IsIdentity>
      <IsUpdatable>true</IsUpdatable>
      <Relation></Relation>
    </Column>
    <Column>
      <ColumnName>IDAINS</ColumnName>
      <Ressource>IDAINS</Ressource>
      <DataType>int</DataType>
      <Length>10</Length>
      <Scale>0</Scale>
      <IsMandatory>true</IsMandatory>
      <RegularExpression></RegularExpression>
      <Default></Default>
      <IsHide>true</IsHide>
      <IsHideInDataGrid>true</IsHideInDataGrid>
      <IsKeyField>false</IsKeyField>
      <IsDataKeyField>false</IsDataKeyField>
      <IsIdentity>false</IsIdentity>
      <IsUpdatable>false</IsUpdatable>
      <Relation>
        <TableName>ACTOR</TableName>
        <AliasTableName>insa</AliasTableName>
        <ColumnRelation>
          <ColumnName>IDA</ColumnName>
          <DataType>int</DataType>
        </ColumnRelation>
        <ColumnSelect>
          <ColumnName>DISPLAYNAME</ColumnName>
          <Ressource>Display name</Ressource>
          <DataType>string</DataType>
        </ColumnSelect>
      </Relation>
    </Column>
    <Column>
      <ColumnName>DTINS</ColumnName>
      <Ressource>DTINS</Ressource>
      <DataType>date</DataType>
      <Length>8</Length>
      <Scale>0</Scale>
      <IsMandatory>true</IsMandatory>
      <RegularExpression></RegularExpression>
      <Default></Default>
      <IsHide>true</IsHide>
      <IsHideInDataGrid>true</IsHideInDataGrid>
      <IsKeyField>false</IsKeyField>
      <IsDataKeyField>false</IsDataKeyField>
      <IsIdentity>false</IsIdentity>
      <IsUpdatable>true</IsUpdatable>
      <Relation></Relation>
    </Column>
    <Column>
      <ColumnName>IDAUPD</ColumnName>
      <Ressource>IDAUPD</Ressource>
      <DataType>int</DataType>
      <Length>10</Length>
      <Scale>0</Scale>
      <IsMandatory>false</IsMandatory>
      <RegularExpression></RegularExpression>
      <Default></Default>
      <IsHide>true</IsHide>
      <IsHideInDataGrid>true</IsHideInDataGrid>
      <IsKeyField>false</IsKeyField>
      <IsDataKeyField>false</IsDataKeyField>
      <IsIdentity>false</IsIdentity>
      <IsUpdatable>false</IsUpdatable>
      <Relation>
        <TableName>ACTOR</TableName>
        <AliasTableName>upda</AliasTableName>
        <ColumnRelation>
          <ColumnName>IDA</ColumnName>
          <DataType>int</DataType>
        </ColumnRelation>
        <ColumnSelect>
          <ColumnName>DISPLAYNAME</ColumnName>
          <Ressource>Display name</Ressource>
          <DataType>string</DataType>
        </ColumnSelect>
      </Relation>
    </Column>
    <Column>
      <ColumnName>DTUPD</ColumnName>
      <Ressource>DTUPD</Ressource>
      <DataType>date</DataType>
      <Length>8</Length>
      <Scale>0</Scale>
      <IsMandatory>false</IsMandatory>
      <RegularExpression></RegularExpression>
      <Default></Default>
      <IsHide>true</IsHide>
      <IsHideInDataGrid>true</IsHideInDataGrid>
      <IsKeyField>false</IsKeyField>
      <IsDataKeyField>false</IsDataKeyField>
      <IsIdentity>false</IsIdentity>
      <IsUpdatable>true</IsUpdatable>
      <Relation></Relation>
    </Column>
    <Column>
      <ColumnName>EXTLLINK</ColumnName>
      <Ressource>EXTLLINK1</Ressource>
      <DataType>string</DataType>
      <Length>64</Length>
      <Scale>0</Scale>
      <LabelWidth>10%</LabelWidth>
      <IsMandatory>false</IsMandatory>
      <RegularExpression></RegularExpression>
      <Default></Default>
      <IsHide>false</IsHide>
      <IsHideInDataGrid>false</IsHideInDataGrid>
      <IsKeyField>false</IsKeyField>
      <IsDataKeyField>false</IsDataKeyField>
      <IsIdentity>false</IsIdentity>
      <IsUpdatable>true</IsUpdatable>
      <Relation></Relation>
      <html_BLOCK title="ExtlLink2_" blockbyrow="2" width="75%" columnbyrow="1"></html_BLOCK>
    </Column>
    <Column>
      <ColumnName>EXTLLINK2</ColumnName>
      <Ressource>EXTLLINK2</Ressource>
      <DataType>string</DataType>
      <Length>64</Length>
      <LabelWidth>10%</LabelWidth>
      <Scale>0</Scale>
      <IsMandatory>false</IsMandatory>
      <RegularExpression></RegularExpression>
      <Default>
      </Default>
      <IsHide>false</IsHide>
      <IsHideInDataGrid>false</IsHideInDataGrid>
      <IsKeyField>false</IsKeyField>
      <IsDataKeyField>false</IsDataKeyField>
      <IsIdentity>false</IsIdentity>
      <IsUpdatable>true</IsUpdatable>
      <Relation></Relation>
    </Column>
    <Column>
      <ColumnName>ROWVERSION</ColumnName>
      <Ressource>ROWVERSION</Ressource>
      <DataType>string</DataType>
      <Length>8</Length>
      <Scale>0</Scale>
      <IsMandatory>true</IsMandatory>
      <RegularExpression></RegularExpression>
      <Default></Default>
      <IsHide>true</IsHide>
      <IsHideInDataGrid>true</IsHideInDataGrid>
      <IsKeyField>false</IsKeyField>
      <IsDataKeyField>false</IsDataKeyField>
      <IsIdentity>false</IsIdentity>
      <IsUpdatable>true</IsUpdatable>
      <Relation></Relation>
    </Column>
  </Referential>
</Referentials>