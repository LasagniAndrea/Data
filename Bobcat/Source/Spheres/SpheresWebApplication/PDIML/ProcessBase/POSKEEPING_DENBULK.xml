<?xml version="1.0" encoding="utf-8" ?>
<!--
CC/PL 20170307 [22916] - Prise en compte de DERIVATIVECONTRACT.ITMCONDITION
FI 20160307 [XXXXX] Add Link on Market
FI 20231212 [WI774] Mise en place d'instruction choose pour améliorier la lisibilité et les performances - 
-->
<Referentials>
  <Referential>
    <IsUseSQLParameters>true</IsUseSQLParameters>
    <TableName>%%PARAM1%%</TableName>
    <AliasTableName>denblk</AliasTableName>
    <freezeColumn>9</freezeColumn>
    <Ressource></Ressource>
    <ColumnByRow>3</ColumnByRow>
    <Create>false</Create>
    <Modify>false</Modify>
    <Remove>false</Remove>
    <LoadOnStart>false</LoadOnStart>
    <AttachedDoc>false</AttachedDoc>
    <Notepad>false</Notepad>
    <IsLoupe>false</IsLoupe>
    <IsDblClick>false</IsDblClick>
    <IsUseSQLParameters>true</IsUseSQLParameters>

    <SQLPreSelectResource name="DENBULK_PRESELECT" />
    <SQLSelect>
      <Command rdbms = "all">
        <![CDATA[
          select 
          result.IDT, result.IDI, result.DTENTITY, result.IDEM, result.DTBUSINESS, result.SIDE, result.IDPR, 
          
          /*--ENTITY--*/          
          result.IDA_ENTITY, a_entity.IDENTIFIER as ENTITY_IDENTIFIER, a_entity.DISPLAYNAME as ENTITY_DISPLAYNAME, 
          
          /* CSSCUTODIAN */
          result.IDA_CSSCUSTODIAN as IDA_CSS, a_css.IDENTIFIER as CSSCUSTODIAN_IDENTIFIER, 
          
          /* MARKET */
          result.IDM, m.SHORT_ACRONYM as MARKET, 
          
          /*--DEALER--*/
          result.IDA_DEALER, result.IDB_DEALER, result.IDA_CLEARER, result.IDB_CLEARER, 
          dealer.IDENTIFIER as DEALER_IDENTIFIER,dealer.DISPLAYNAME as DEALER_DISPLAYNAME,
          bdealer.IDENTIFIER as DEALER_BOOKIDENTIFIER,
          
          /*--CLEARER--*/
          clearer.IDENTIFIER as CLEARER_IDENTIFIER, clearer.DISPLAYNAME as CLEARER_DISPLAYNAME,
          bclearer.IDENTIFIER as CLEARER_BOOKIDENTIFIER,
          
          /* ASSET */
          result.ASSETCATEGORY, result.IDASSET, asset.IDENTIFIER as ASSET_IDENTIFIER, asset.ASSETSYMBOL as ASSETSYMBOL,
          asset.IDDC as ASSET_IDDC, asset.CONTRACTIDENTIFIER, asset.CONTRACTDISPLAYNAME,
          case asset.PUTCALL when '0' then 'Put' when '1' then 'Call' else '' end as PUTCALL,
          asset.STRIKEPRICE,
          asset.MATFMT_MMMYY,
          
          /* REQUESTTYPE */
          result.REQUESTTYPE as REQUESTTYPE_VALUE, en.EXTVALUE as REQUESTTYPE_EXTVALUE,
          
          /* QTY */
          result.INITIALQTY, result.POSQTY, result.AVAILABLEQTY, result.CLEARINGQTY, result.DENQTY, result.NBIDPR,
          
          /* UNL PRICE */
          result.IDASSET_UNL, asset_unl.IDENTIFIER as ASSET_IDENTIFIER_UNL, result.ASSETCATEGORY_UNL, 
          result.TIME, result.VALUE, result.QUOTESIDE, result.QUOTETIMING, result.SOURCE, result.ITM_OTM,
          
          @DENOPTIONACTIONTYPE as ACTION
          
          from
          (
            select pos.ASSETCATEGORY, pos.IDT, pos.IDI, pos.DTENTITY, pos.IDEM, pos.DTBUSINESS, pos.SIDE, 
            pos.IDA_ENTITY, pos.IDA_CSSCUSTODIAN, pos.IDM, pos.IDA_DEALER, pos.IDB_DEALER,  pos.IDA_CLEARER, pos.IDB_CLEARER,
            pos.IDASSET, 			      
	          pos.INITIALQTY, pos.POSQTY, pos.AVAILABLEQTY, 
            /*pos.AVAILABLEQTY as CLEARINGQTY, */
            0 as CLEARINGQTY,
            case when pos.NBIDPR = 1 then pos.IDPR else null end as IDPR, pos.DENQTY, pos.NBIDPR,
            /* %%PARAM1%% */
            <choose>
              <when test="%%PARAM1%% contains 'ASSEXEBULK'">
                case pos.SIDE when '1' then 'EXE' else 'ASS' end as REQUESTTYPE,
              </when>
              <when test="%%PARAM1%% contains 'ABNBULK'">
                'ABN' as REQUESTTYPE,
              </when>
              <otherwise>
                /* Cas impossible */
                'XXX' as REQUESTTYPE,
              </otherwise>
            </choose>
            
            quote.IDASSET_UNL, quote.ASSETCATEGORY_UNL, quote.VALUE, quote.TIME, quote.QUOTESIDE, quote.QUOTETIMING, quote.SOURCE, quote.ITM_OTM
            from %%PARAM1%%_%%SHORTSESSIONID%%_W pos
            inner join Q%%PARAM1%%_%%SHORTSESSIONID%%_W quote on (quote.IDASSET = pos.IDASSET)
            <choose>
              <when test="{OPTIONITMATMOTM}='NTM'"> 
                where quote.ITM_OTM not in ('At the money (ITM)','In the money')
              </when>
              <when test="{OPTIONITMATMOTM}='ITM'"> 
                where quote.ITM_OTM in ('At the money (ITM)', 'In the money')
              </when>
              <when test="{OPTIONITMATMOTM}='OTM'"> 
                where quote.ITM_OTM in ('At the money (OTM)', 'Out the money')
              </when>
              <when test="{OPTIONITMATMOTM}='ATM'"> 
                where quote.ITM_OTM in ('At the money (ITM)', 'At the money (OTM)')
              </when>
            </choose>   
           
          ) result
          
          inner join dbo.VW_MARKET_IDENTIFIER m on (m.IDM = result.IDM)
          inner join dbo.ACTOR a_entity on (a_entity.IDA = result.IDA_ENTITY)
          inner join dbo.ACTOR a_css on (a_css.IDA = result.IDA_CSSCUSTODIAN)
          inner join dbo.ACTOR dealer on (dealer.IDA = result.IDA_DEALER)
          inner join dbo.BOOK  bdealer on (bdealer.IDB = result.IDB_DEALER)
          inner join dbo.ACTOR clearer on (clearer.IDA = result.IDA_CLEARER)
          inner join dbo.BOOK  bclearer on (bclearer.IDB = result.IDB_CLEARER)
          inner join dbo.VW_ASSET_ETD_EXPANDED asset on (asset.IDASSET = result.IDASSET) 
          <choose>
            <when test="{OPTIONITMTHRESHOLD}!=0 and {OPTIONITMTHRESHOLD}!=null"> 
                  and (
                        (asset.PUTCALL=0 and asset.STRIKEPRICE-@OPTIONITMTHRESHOLD>result.VALUE)
                      or
                        (asset.PUTCALL=1 and asset.STRIKEPRICE+@OPTIONITMTHRESHOLD&lt;result.VALUE)
                      )
            </when>
          </choose>
          inner join dbo.ENUM en on (en.CODE = 'PosRequestTypeEnum') and (en.VALUE = result.REQUESTTYPE)                            
          inner join dbo.VW_ASSET asset_unl on (asset_unl.IDASSET = result.IDASSET_UNL) and (asset_unl.ASSETCATEGORY = result.ASSETCATEGORY_UNL) 
      ]]>
      </Command>
    </SQLSelect>

    <SQLCheckSelectedDefaultValue>0</SQLCheckSelectedDefaultValue>

    <Column>
      <ColumnName>REQUESTTYPE_VALUE</ColumnName>
      <Ressource>VALUE_REQUESTTYPE</Ressource>
      <DataType>string</DataType>
      <Length>64</Length>
      <Scale>0</Scale>
      <IsMandatory>true</IsMandatory>
      <RegularExpression></RegularExpression>
      <Default></Default>
      <IsHide>false</IsHide>
      <IsHideInDataGrid>true</IsHideInDataGrid>
      <IsHideInCriteria>true</IsHideInCriteria>
      <IsDataKeyField>false</IsDataKeyField>
      <IsKeyField>false</IsKeyField>
      <IsForeignKeyField>false</IsForeignKeyField>
      <IsIdentity>false</IsIdentity>
      <IsUpdatable>false</IsUpdatable>
      <IsOrderBy>false</IsOrderBy>
    </Column>

    <Column>
      <ColumnName>REQUESTTYPE_EXTVALUE</ColumnName>
      <Ressource>EXTVALUE_REQUESTTYPE_</Ressource>
      <DataType>string</DataType>
      <Scale>0</Scale>
      <IsMandatory>false</IsMandatory>
      <RegularExpression></RegularExpression>
      <Default></Default>
      <IsHide>false</IsHide>
      <IsHideInDataGrid>false</IsHideInDataGrid>
      <IsHideInCriteria>false</IsHideInCriteria>
      <IsKeyField>false</IsKeyField>
      <IsDataKeyField>false</IsDataKeyField>
      <IsIdentity>false</IsIdentity>
      <IsUpdatable>false</IsUpdatable>
      <IsOrderBy>false</IsOrderBy>
      <CellStyle complexModel="posRequestType" version="h"/>
    </Column>

    <!-- ENTITY -->
    <Column>
      <ColumnName>IDA_ENTITY</ColumnName>
      <Ressource>Entity</Ressource>
      <DataType>int</DataType>
      <Nowrap>true</Nowrap>
      <Length>10</Length>
      <Scale>0</Scale>
      <IsMandatory>false</IsMandatory>
      <RegularExpression></RegularExpression>
      <Default></Default>
      <IsHide>true</IsHide>
      <IsHideInDataGrid>true</IsHideInDataGrid>
      <IsHideInCriteria>true</IsHideInCriteria>
      <IsDataKeyField>false</IsDataKeyField>
      <IsKeyField>false</IsKeyField>
      <IsForeignKeyField>false</IsForeignKeyField>
      <IsIdentity>false</IsIdentity>
      <IsUpdatable>false</IsUpdatable>
      <IsOrderBy>false</IsOrderBy>
    </Column>
    <Column>
      <ColumnName>ENTITY_IDENTIFIER</ColumnName>
      <Ressource>COL_EntityDealer</Ressource>
      <DataType>string</DataType>
      <Scale>0</Scale>
      <IsMandatory>false</IsMandatory>
      <RegularExpression></RegularExpression>
      <Default></Default>
      <IsHide>false</IsHide>
      <IsHideInDataGrid>false</IsHideInDataGrid>
      <IsHideInCriteria>false</IsHideInCriteria>
      <IsKeyField>false</IsKeyField>
      <IsDataKeyField>false</IsDataKeyField>
      <IsIdentity>false</IsIdentity>
      <IsOrderBy>false</IsOrderBy>
      <IsHyperLink linktype="column" type="IDA" data="IDA_ENTITY" condition="ENTITY" linktable="ACTOR" name="IDENTIFIER">true</IsHyperLink>
    </Column>
    <Column>
      <ColumnName>ENTITY_DISPLAYNAME</ColumnName>
      <Ressource></Ressource>
      <DataType>string</DataType>
      <Scale>0</Scale>
      <IsMandatory>false</IsMandatory>
      <RegularExpression></RegularExpression>
      <Default></Default>
      <IsHide>false</IsHide>
      <IsHideInDataGrid>false</IsHideInDataGrid>
      <IsKeyField>false</IsKeyField>
      <IsDataKeyField>false</IsDataKeyField>
      <IsIdentity>false</IsIdentity>
      <IsOrderBy>false</IsOrderBy>
      <IsHyperLink linktype="column" type="IDA" data="IDA_ENTITY" condition="ENTITY" linktable="ACTOR" name="DISPLAYNAME">false</IsHyperLink>
    </Column>
    <!-- CLEARING HOUSE -->
    <Column>
      <ColumnName>IDA_CSS</ColumnName>
      <Ressource>IDA_CSS</Ressource>
      <DataType>int</DataType>
      <Nowrap>true</Nowrap>
      <Length>10</Length>
      <Scale>0</Scale>
      <IsMandatory>false</IsMandatory>
      <RegularExpression></RegularExpression>
      <Default></Default>
      <IsHide>true</IsHide>
      <IsHideInDataGrid>true</IsHideInDataGrid>
      <IsHideInCriteria>true</IsHideInCriteria>
      <IsDataKeyField>false</IsDataKeyField>
      <IsKeyField>false</IsKeyField>
      <IsForeignKeyField>false</IsForeignKeyField>
      <IsIdentity>false</IsIdentity>
      <IsUpdatable>false</IsUpdatable>
      <IsOrderBy>false</IsOrderBy>
    </Column>

    <Column>
      <ColumnName>CSSCUSTODIAN_IDENTIFIER</ColumnName>
      <Ressource>ClearingHouse</Ressource>
      <DataType>string</DataType>
      <IsMandatory>false</IsMandatory>
      <RegularExpression></RegularExpression>
      <Default></Default>
      <IsHide>false</IsHide>
      <IsHideInDataGrid>false</IsHideInDataGrid>
      <IsKeyField>false</IsKeyField>
      <IsDataKeyField>false</IsDataKeyField>
      <IsIdentity>false</IsIdentity>
      <IsOrderBy>false</IsOrderBy>
      <IsHyperLink linktype="column" type="IDA" data="IDA_CSS" condition="CSS|CUSTODIAN" linktable="ACTOR" name="IDENTIFIER">true</IsHyperLink>      
    </Column>
    <!-- ENTITYMARKET -->
    <Column>
      <ColumnName>IDEM</ColumnName>
      <Ressource>IDEM</Ressource>
      <DataType>int</DataType>
      <Nowrap>true</Nowrap>
      <Length>10</Length>
      <Scale>0</Scale>
      <IsMandatory>false</IsMandatory>
      <RegularExpression></RegularExpression>
      <Default></Default>
      <IsHide>true</IsHide>
      <IsHideInDataGrid>true</IsHideInDataGrid>
      <IsHideInCriteria>true</IsHideInCriteria>
      <IsDataKeyField>false</IsDataKeyField>
      <IsKeyField>false</IsKeyField>
      <IsForeignKeyField>false</IsForeignKeyField>
      <IsIdentity>false</IsIdentity>
      <IsUpdatable>false</IsUpdatable>
      <IsOrderBy>false</IsOrderBy>
    </Column>

    <!-- MARKET -->
    <!-- FI 20160307 [XXXXX] Add column-->
    <Column>
      <ColumnName>IDM</ColumnName>
      <Ressource>IDAM</Ressource>
      <DataType>int</DataType>
      <Nowrap>true</Nowrap>
      <Length>10</Length>
      <Scale>0</Scale>
      <IsMandatory>false</IsMandatory>
      <RegularExpression></RegularExpression>
      <Default></Default>
      <IsHide>true</IsHide>
      <IsHideInDataGrid>true</IsHideInDataGrid>
      <IsHideInCriteria>true</IsHideInCriteria>
      <IsDataKeyField>false</IsDataKeyField>
      <IsKeyField>false</IsKeyField>
      <IsForeignKeyField>false</IsForeignKeyField>
      <IsIdentity>false</IsIdentity>
      <IsUpdatable>false</IsUpdatable>
      <IsOrderBy>false</IsOrderBy>
    </Column>
    <!-- FI 20160307 [XXXXX] Add IsHyperLink element-->
    <Column>
      <ColumnName>Market</ColumnName>
      <Ressource>COL_Market</Ressource>
      <DataType>string</DataType>
      <Scale>0</Scale>
      <IsMandatory>false</IsMandatory>
      <IsHide>false</IsHide>
      <IsHideInDataGrid>false</IsHideInDataGrid>
      <IsKeyField>false</IsKeyField>
      <IsDataKeyField>false</IsDataKeyField>
      <IsIdentity>false</IsIdentity>
      <IsOrderBy>true</IsOrderBy>
      <IsHyperLink linktype="column" type="IDM" data="IDM" linktable="VW_MARKET_IDENTIFIER" name="SHORT_ACRONYM">true</IsHyperLink>      
    </Column>

    <Column>
      <ColumnName>DTBUSINESS</ColumnName>
      <Ressource>DTBUSINESS_</Ressource>
      <DataType>date</DataType>
      <Length>8</Length>
      <Scale>0</Scale>
      <IsMandatory>true</IsMandatory>
      <RegularExpression></RegularExpression>
      <Default></Default>
      <IsHide>false</IsHide>
      <IsHideInDataGrid>false</IsHideInDataGrid>
    </Column>

    <Column>
      <ColumnName>DTENTITY</ColumnName>
      <Ressource>DTMARKET_</Ressource>
      <DataType>date</DataType>
      <Length>8</Length>
      <Scale>0</Scale>
      <IsMandatory>true</IsMandatory>
      <RegularExpression></RegularExpression>
      <Default></Default>
      <IsHide>false</IsHide>
      <IsHideInCriteria>true</IsHideInCriteria>
      <IsHideInDataGrid>true</IsHideInDataGrid>
      <IsDataKeyField>false</IsDataKeyField>
      <IsKeyField>false</IsKeyField>
      <IsForeignKeyField>false</IsForeignKeyField>
      <IsIdentity>false</IsIdentity>
      <IsUpdatable>false</IsUpdatable>
      <IsOrderBy>false</IsOrderBy>
    </Column>

    <Column>
      <ColumnName>ASSETCATEGORY</ColumnName>
      <Ressource>CATEGORY</Ressource>
      <DataType>string</DataType>
      <Length>64</Length>
      <Scale>0</Scale>
      <IsMandatory>false</IsMandatory>
      <IsHide>true</IsHide>
      <IsHideInDataGrid>true</IsHideInDataGrid>
      <IsHideInCriteria>true</IsHideInCriteria>
      <IsVirtualColumn>true</IsVirtualColumn>
    </Column>

    <Column>
      <ColumnName>ASSET_IDDC</ColumnName>
      <Ressource></Ressource>
      <DataType>int</DataType>
      <Nowrap>true</Nowrap>
      <Length>10</Length>
      <Scale>0</Scale>
      <IsMandatory>false</IsMandatory>
      <RegularExpression></RegularExpression>
      <Default></Default>
      <IsHide>true</IsHide>
      <IsHideInDataGrid>true</IsHideInDataGrid>
      <IsHideInCriteria>true</IsHideInCriteria>
      <IsDataKeyField>false</IsDataKeyField>
      <IsKeyField>false</IsKeyField>
      <IsForeignKeyField>false</IsForeignKeyField>
      <IsIdentity>false</IsIdentity>
      <IsUpdatable>false</IsUpdatable>
      <IsOrderBy>false</IsOrderBy>
    </Column>

    <Column>
      <ColumnName>CONTRACTIDENTIFIER</ColumnName>
      <Ressource>COL_ContractSymbol_</Ressource>
      <DataType>string</DataType>
      <Scale>0</Scale>
      <IsMandatory>false</IsMandatory>
      <RegularExpression></RegularExpression>
      <Default></Default>
      <IsHide>false</IsHide>
      <IsHideInDataGrid>false</IsHideInDataGrid>
      <IsKeyField>false</IsKeyField>
      <IsDataKeyField>false</IsDataKeyField>
      <IsIdentity>false</IsIdentity>
      <IsOrderBy>true</IsOrderBy>
      <IsHyperLink linktype="column" type="IDDC" data="ASSET_IDDC">true</IsHyperLink>
    </Column>
    <Column>
      <ColumnName>CONTRACTDISPLAYNAME</ColumnName>
      <Ressource></Ressource>
      <DataType>string</DataType>
      <Scale>0</Scale>
      <IsMandatory>false</IsMandatory>
      <IsHide>false</IsHide>
      <IsHideInDataGrid>false</IsHideInDataGrid>
      <IsKeyField>false</IsKeyField>
      <IsDataKeyField>false</IsDataKeyField>
      <IsIdentity>false</IsIdentity>
      <IsOrderBy>true</IsOrderBy>
      <IsHyperLink linktype="column" type="IDDC" data="ASSET_IDDC" linktable="DERIVATIVECONTRACT" name="DISPLAYNAME">false</IsHyperLink>
    </Column>
    <Column>
      <ColumnName>PUTCALL</ColumnName>
      <Ressource>COL_PutCall</Ressource>
      <DataType>string</DataType>
      <Scale>0</Scale>
      <IsMandatory>false</IsMandatory>
      <RegularExpression></RegularExpression>
      <Default></Default>
      <IsHide>false</IsHide>
      <IsHideInDataGrid>false</IsHideInDataGrid>
      <IsKeyField>false</IsKeyField>
      <IsDataKeyField>false</IsDataKeyField>
      <IsIdentity>false</IsIdentity>
      <IsOrderBy>true</IsOrderBy>
    </Column>
    <Column>
      <ColumnName>MATFMT_MMMYY</ColumnName>
      <Ressource>COL_Maturity_</Ressource>
      <DataType>string</DataType>
      <Scale>0</Scale>
      <IsMandatory>false</IsMandatory>
      <RegularExpression></RegularExpression>
      <Default></Default>
      <IsHide>false</IsHide>
      <IsHideInDataGrid>false</IsHideInDataGrid>
      <IsKeyField>false</IsKeyField>
      <IsDataKeyField>false</IsDataKeyField>
      <IsIdentity>false</IsIdentity>
      <IsOrderBy>true</IsOrderBy>
      <IsResource>true</IsResource>
      <IsHyperLink linktype="column" type="IDASSET_ETD" data="IDASSET" autocomplete="false">true</IsHyperLink>
    </Column>
    <Column>
      <ColumnName>STRIKEPRICE</ColumnName>
      <Ressource>COL_Strike</Ressource>
      <DataType>decimal</DataType>
      <Scale>5</Scale>
      <IsMandatory>false</IsMandatory>
      <RegularExpression></RegularExpression>
      <Default></Default>
      <IsHide>false</IsHide>
      <IsHideInDataGrid>false</IsHideInDataGrid>
      <IsKeyField>false</IsKeyField>
      <IsDataKeyField>false</IsDataKeyField>
      <IsIdentity>false</IsIdentity>
      <IsOrderBy>true</IsOrderBy>
    </Column>

    <Column>
      <ColumnName>IDA_DEALER</ColumnName>
      <Ressource>COL_Dealer</Ressource>
      <DataType>int</DataType>
      <Nowrap>true</Nowrap>
      <Length>10</Length>
      <Scale>0</Scale>
      <IsMandatory>false</IsMandatory>
      <RegularExpression></RegularExpression>
      <Default></Default>
      <IsHide>true</IsHide>
      <IsHideInDataGrid>true</IsHideInDataGrid>
      <IsDataKeyField>false</IsDataKeyField>
      <IsKeyField>false</IsKeyField>
      <IsForeignKeyField>false</IsForeignKeyField>
      <IsIdentity>false</IsIdentity>
      <IsUpdatable>false</IsUpdatable>
      <IsOrderBy>false</IsOrderBy>
    </Column>
    <Column>
      <ColumnName>IDB_DEALER</ColumnName>
      <DataType>int</DataType>
      <Nowrap>true</Nowrap>
      <Length>10</Length>
      <Scale>0</Scale>
      <IsMandatory>false</IsMandatory>
      <RegularExpression></RegularExpression>
      <Default></Default>
      <IsHide>true</IsHide>
      <IsHideInDataGrid>true</IsHideInDataGrid>
      <IsDataKeyField>false</IsDataKeyField>
      <IsKeyField>false</IsKeyField>
      <IsForeignKeyField>false</IsForeignKeyField>
      <IsIdentity>false</IsIdentity>
      <IsUpdatable>false</IsUpdatable>
      <IsOrderBy>false</IsOrderBy>
    </Column>
    <Column>
      <ColumnName>DEALER_BOOKIDENTIFIER</ColumnName>
      <Ressource>COL_BookDealer</Ressource>
      <DataType>string</DataType>
      <Scale>0</Scale>
      <IsMandatory>false</IsMandatory>
      <RegularExpression></RegularExpression>
      <Default></Default>
      <IsHide>false</IsHide>
      <IsHideInDataGrid>false</IsHideInDataGrid>
      <IsKeyField>false</IsKeyField>
      <IsDataKeyField>false</IsDataKeyField>
      <IsIdentity>false</IsIdentity>
      <IsOrderBy>true</IsOrderBy>
      <IsHyperLink linktype="column" type="IDB" data="IDB_DEALER" linktable="BOOK" name="IDENTIFIER">true</IsHyperLink>
    </Column>
    <Column>
      <ColumnName>DEALER_IDENTIFIER</ColumnName>
      <Ressource>COL_ActorDealer</Ressource>
      <DataType>string</DataType>
      <Nowrap>true</Nowrap>
      <Scale>0</Scale>
      <IsMandatory>false</IsMandatory>
      <RegularExpression></RegularExpression>
      <Default></Default>
      <IsHide>false</IsHide>
      <IsHideInDataGrid>false</IsHideInDataGrid>
      <IsHideInCriteria>false</IsHideInCriteria>
      <IsDataKeyField>false</IsDataKeyField>
      <IsKeyField>false</IsKeyField>
      <IsForeignKeyField>false</IsForeignKeyField>
      <IsIdentity>false</IsIdentity>
      <IsUpdatable>false</IsUpdatable>
      <IsOrderBy>false</IsOrderBy>
      <IsHyperLink linktype="column" type="IDA" data="IDA_DEALER" linktable="ACTOR" name="IDENTIFIER">true</IsHyperLink>
    </Column>
    <Column>
      <ColumnName>DEALER_DISPLAYNAME</ColumnName>
      <DataType>string</DataType>
      <Nowrap>true</Nowrap>
      <Scale>0</Scale>
      <IsMandatory>false</IsMandatory>
      <RegularExpression></RegularExpression>
      <Default></Default>
      <IsHide>false</IsHide>
      <IsHideInDataGrid>false</IsHideInDataGrid>
      <IsHideInCriteria>false</IsHideInCriteria>
      <IsDataKeyField>false</IsDataKeyField>
      <IsKeyField>false</IsKeyField>
      <IsForeignKeyField>false</IsForeignKeyField>
      <IsIdentity>false</IsIdentity>
      <IsUpdatable>false</IsUpdatable>
      <IsOrderBy>false</IsOrderBy>
      <IsHyperLink linktype="column" type="IDA" data="IDA_DEALER" linktable="ACTOR" name="DISPLAYNAME">false</IsHyperLink>
    </Column>

    <Column>
      <ColumnName>IDT</ColumnName>
      <Ressource>ConcernedTrade</Ressource>
      <DataType>int</DataType>
      <Length>10</Length>
      <Scale>0</Scale>
      <IsMandatory>false</IsMandatory>
      <IsHide>false</IsHide>
      <IsHideInDataGrid>false</IsHideInDataGrid>
      <IsDataKeyField>true</IsDataKeyField>
      <IsKeyField>false</IsKeyField>
      <IsForeignKeyField>false</IsForeignKeyField>
      <IsIdentity>false</IsIdentity>
      <IsUpdatable>false</IsUpdatable>
      <IsOrderBy>true</IsOrderBy>
      <Relation>
        <TableName>TRADE</TableName>
        <ColumnRelation>
          <ColumnName>IDT</ColumnName>
          <DataType>int</DataType>
        </ColumnRelation>
        <ColumnSelect>
          <ColumnName>IDENTIFIER</ColumnName>
          <Ressource>ConcernedTrade</Ressource>
          <DataType>string</DataType>
        </ColumnSelect>
        <ColumnLabel>
          <ColumnName>DISPLAYNAME</ColumnName>
          <Ressource>DISPLAYNAME</Ressource>
          <DataType>string</DataType>
        </ColumnLabel>
      </Relation>
    </Column>

    <Column>
      <ColumnName>SIDE</ColumnName>
      <Ressource>COL_QTY_INITIAL</Ressource>
      <DataType>string</DataType>
      <Length>1</Length>
      <Scale>0</Scale>
      <IsMandatory>true</IsMandatory>
      <RegularExpression></RegularExpression>
      <Default></Default>
      <IsHide>false</IsHide>
      <IsHideInDataGrid>false</IsHideInDataGrid>
      <IsDataKeyField>false</IsDataKeyField>
      <IsHideInCriteria>true</IsHideInCriteria>
      <IsKeyField>true</IsKeyField>
      <IsForeignKeyField>false</IsForeignKeyField>
      <IsIdentity>false</IsIdentity>
      <IsUpdatable>false</IsUpdatable>
      <IsOrderBy>false</IsOrderBy>
      <IsResource>true</IsResource>
      <Relation>
        <TableName>ENUM</TableName>
        <AliasTableName>sidecode</AliasTableName>
        <ColumnRelation>
          <ColumnName>VALUE</ColumnName>
          <DataType>string</DataType>
        </ColumnRelation>
        <ColumnSelect>
          <ColumnName>EXTVALUE</ColumnName>
          <Ressource>COL_QTY_INITIAL</Ressource>
          <DataType>string</DataType>
        </ColumnSelect>
        <Condition apply="ALL">
          <SQLWhere>CODE='SideEnum'</SQLWhere>
        </Condition>
      </Relation>
    </Column>

    <Column>
      <ColumnName>INITIALQTY</ColumnName>
      <Ressource></Ressource>
      <DataType>decimal</DataType>
      <Length>20</Length>
      <Scale>3</Scale>
      <IsMandatory>true</IsMandatory>
      <IsHide>true</IsHide>
      <IsHideInDataGrid>false</IsHideInDataGrid>
      <IsDataKeyField>false</IsDataKeyField>
      <IsKeyField>false</IsKeyField>
      <IsForeignKeyField>false</IsForeignKeyField>
      <IsIdentity>false</IsIdentity>
      <IsUpdatable>false</IsUpdatable>
      <IsOrderBy>false</IsOrderBy>
    </Column>

    <Column>
      <ColumnName>POSQTY</ColumnName>
      <Ressource>COL_QTY_POS</Ressource>
      <DataType>decimal</DataType>
      <Length>20</Length>
      <Scale>3</Scale>
      <IsMandatory>true</IsMandatory>
      <IsHide>true</IsHide>
      <IsHideInDataGrid>false</IsHideInDataGrid>
      <IsDataKeyField>false</IsDataKeyField>
      <IsKeyField>false</IsKeyField>
      <IsForeignKeyField>false</IsForeignKeyField>
      <IsIdentity>false</IsIdentity>
      <IsUpdatable>false</IsUpdatable>
      <IsOrderBy>false</IsOrderBy>
    </Column>

    <Column>
      <ColumnName>AVAILABLEQTY</ColumnName>
      <Ressource>AVAILABLEQTY</Ressource>
      <DataType>decimal</DataType>
      <Length>20</Length>
      <Scale>3</Scale>
      <IsMandatory>true</IsMandatory>
      <IsHide>true</IsHide>
      <IsHideInDataGrid>false</IsHideInDataGrid>
      <IsDataKeyField>false</IsDataKeyField>
      <IsKeyField>false</IsKeyField>
      <IsForeignKeyField>false</IsForeignKeyField>
      <IsIdentity>false</IsIdentity>
      <IsUpdatable>false</IsUpdatable>
      <IsOrderBy>false</IsOrderBy>
    </Column>

    <Column>
      <ColumnName>CLEARINGQTY</ColumnName>
      <Ressource>denOption_quantity</Ressource>
      <DataType>int</DataType>
      <Length>15</Length>
      <Scale>0</Scale>
      <IsMandatory>true</IsMandatory>
      <IsHide>true</IsHide>
      <IsHideInDataGrid>false</IsHideInDataGrid>
      <IsDataKeyField>false</IsDataKeyField>
      <IsKeyField>false</IsKeyField>
      <IsForeignKeyField>false</IsForeignKeyField>
      <IsIdentity>false</IsIdentity>
      <IsUpdatable>false</IsUpdatable>
      <IsEditable>true</IsEditable>
      <IsOrderBy>false</IsOrderBy>
    </Column>

    <Column>
      <ColumnName>DENQTY</ColumnName>
      <Ressource>action_denQuantity</Ressource>
      <DataType>decimal</DataType>
      <Length>20</Length>
      <Scale>3</Scale>
      <IsMandatory>false</IsMandatory>
      <IsHide>true</IsHide>
      <IsHideInDataGrid>false</IsHideInDataGrid>
      <IsHideInCriteria>false</IsHideInCriteria>
      <IsVirtualColumn>true</IsVirtualColumn>
    </Column>

    <Column>
      <ColumnName>IDPR</ColumnName>
      <Ressource>IDPR</Ressource>
      <DataType>int</DataType>
      <Nowrap>true</Nowrap>
      <Length>10</Length>
      <Scale>0</Scale>
      <IsMandatory>false</IsMandatory>
      <Default></Default>
      <IsHide>true</IsHide>
      <IsHideInDataGrid>true</IsHideInDataGrid>
      <IsHideInCriteria>true</IsHideInCriteria>
      <IsVirtualColumn>true</IsVirtualColumn>
    </Column>

    <Column>
      <ColumnName>NBIDPR</ColumnName>
      <Ressource>NBIDPR</Ressource>
      <DataType>int</DataType>
      <Nowrap>true</Nowrap>
      <Length>5</Length>
      <Scale>0</Scale>
      <IsMandatory>false</IsMandatory>
      <Default></Default>
      <IsHide>true</IsHide>
      <IsHideInDataGrid>true</IsHideInDataGrid>
      <IsHideInCriteria>true</IsHideInCriteria>
      <IsVirtualColumn>true</IsVirtualColumn>
    </Column>

    <Column>
      <ColumnName>ITM_OTM</ColumnName>
      <Ressource>COL_ITM_OTM</Ressource>
      <DataType>string</DataType>
      <IsHide>true</IsHide>
      <IsHideInDataGrid>false</IsHideInDataGrid>
      <CellStyle model="moneyposition" />
      <Align>Center</Align>
    </Column>

    <Column>
      <ColumnName>ASSETCATEGORY_UNL</ColumnName>
      <Ressource>CATEGORY</Ressource>
      <DataType>string</DataType>
      <Length>64</Length>
      <Scale>0</Scale>
      <IsMandatory>false</IsMandatory>
      <IsHide>true</IsHide>
      <IsHideInDataGrid>false</IsHideInDataGrid>
      <IsHideInCriteria>false</IsHideInCriteria>
    </Column>

    <Column>
      <ColumnName>IDASSET_UNL</ColumnName>
      <Ressource>COL_IDASSETUNL</Ressource>
      <DataType>int</DataType>
      <IsMandatory>false</IsMandatory>
      <IsHide>false</IsHide>
      <IsHideInCriteria>true</IsHideInCriteria>
      <IsHideInDataGrid>true</IsHideInDataGrid>
    </Column>

    <Column>
      <ColumnName>ASSET_IDENTIFIER_UNL</ColumnName>
      <Ressource>COL_IDASSETUNL</Ressource>
      <DataType>string</DataType>
      <IsMandatory>false</IsMandatory>
      <RegularExpression></RegularExpression>
      <Default></Default>
      <IsHide>false</IsHide>
      <IsHideInCriteria>false</IsHideInCriteria>
      <IsHideInDataGrid>false</IsHideInDataGrid>
      <IsHyperLink linktype="column" type="IDASSET_UNL" data="IDASSET_UNL">true</IsHyperLink>
    </Column>

    <Column>
      <ColumnName>TIME</ColumnName>
      <Ressource>COL_ASSETUNLQUOTE_TIME</Ressource>
      <DataType>datetime</DataType>
      <Length>8</Length>
      <IsMandatory>false</IsMandatory>
      <RegularExpression></RegularExpression>
      <Default></Default>
      <IsHide>false</IsHide>
      <IsHideInCriteria>true</IsHideInCriteria>
      <IsHideInDataGrid>false</IsHideInDataGrid>
    </Column>


    <Column>
      <ColumnName>QUOTESIDE</ColumnName>
      <Ressource>COL_ASSETUNLQUOTE_QUOTESIDE</Ressource>
      <DataType>string</DataType>
      <Length>64</Length>
      <Scale>0</Scale>
      <IsMandatory>false</IsMandatory>
      <RegularExpression></RegularExpression>
      <Default></Default>
      <IsHide>false</IsHide>
      <IsHideInCriteria>true</IsHideInCriteria>
      <IsHideInDataGrid>false</IsHideInDataGrid>
      <CellStyle model="quoteside"/>
      <Relation>
        <DDLType>enum.QuotationSideEnum</DDLType>
      </Relation>
    </Column>

    <Column>
      <ColumnName>QUOTETIMING</ColumnName>
      <Ressource>COL_ASSETUNLQUOTE_QUOTETIMING</Ressource>
      <DataType>string</DataType>
      <Length>64</Length>
      <Scale>0</Scale>
      <IsMandatory>false</IsMandatory>
      <RegularExpression></RegularExpression>
      <Default></Default>
      <IsHide>false</IsHide>
      <IsHideInCriteria>true</IsHideInCriteria>
      <IsHideInDataGrid>false</IsHideInDataGrid>
      <Relation>
        <DDLType>enum.QuoteTiming</DDLType>
      </Relation>
      <CellStyle type="style">
        <When test="=Open">color:darkcyan</When>
        <When test="=Close">color:royalblue</When>
      </CellStyle>
    </Column>

    <Column>
      <ColumnName>VALUE</ColumnName>
      <Ressource>COL_ASSETUNLQUOTE_VALUE</Ressource>
      <DataType>dec</DataType>
      <Align>left</Align>
      <Length>15</Length>
      <Scale>9</Scale>
      <IsMandatory>false</IsMandatory>
      <RegularExpression></RegularExpression>
      <Default></Default>
      <IsHide>false</IsHide>
      <IsHideInCriteria>true</IsHideInCriteria>
      <IsHideInDataGrid>false</IsHideInDataGrid>
    </Column>

    <Column>
      <ColumnName>SOURCE</ColumnName>
      <Ressource>COL_ASSETUNLQUOTE_PROVIDER</Ressource>
      <DataType>string</DataType>
      <Length>128</Length>
      <Scale>0</Scale>
      <IsMandatory>false</IsMandatory>
      <RegularExpression></RegularExpression>
      <Default></Default>
      <IsHide>false</IsHide>
      <IsHideInCriteria>true</IsHideInCriteria>
      <IsHideInDataGrid>false</IsHideInDataGrid>
      <Relation>
        <DDLType>enum.InformationProvider</DDLType>
      </Relation>
      <CellStyle type="style">
        <When test="=ManualInput">color:firebrick</When>
        <When test="=NA">color:red</When>
      </CellStyle>
    </Column>

    <Column>
      <ColumnName>IDA_CLEARER</ColumnName>
      <Ressource>COL_Clearer</Ressource>
      <DataType>int</DataType>
      <Length>10</Length>
      <Scale>0</Scale>
      <IsMandatory>false</IsMandatory>
      <RegularExpression></RegularExpression>
      <Default></Default>
      <IsHide>true</IsHide>
      <IsHideInDataGrid>true</IsHideInDataGrid>
      <IsHideInCriteria>false</IsHideInCriteria>
      <IsDataKeyField>false</IsDataKeyField>
      <IsKeyField>false</IsKeyField>
      <IsForeignKeyField>false</IsForeignKeyField>
      <IsIdentity>false</IsIdentity>
      <IsUpdatable>false</IsUpdatable>
      <IsOrderBy>false</IsOrderBy>
    </Column>
    <Column>
      <ColumnName>IDB_CLEARER</ColumnName>
      <DataType>int</DataType>
      <Length>10</Length>
      <Scale>0</Scale>
      <IsMandatory>false</IsMandatory>
      <RegularExpression></RegularExpression>
      <Default></Default>
      <IsHide>true</IsHide>
      <IsHideInDataGrid>true</IsHideInDataGrid>
      <IsHideInCriteria>false</IsHideInCriteria>
      <IsDataKeyField>false</IsDataKeyField>
      <IsKeyField>false</IsKeyField>
      <IsForeignKeyField>false</IsForeignKeyField>
      <IsIdentity>false</IsIdentity>
      <IsUpdatable>false</IsUpdatable>
      <IsOrderBy>false</IsOrderBy>
    </Column>
    <Column>
      <ColumnName>CLEARER_IDENTIFIER</ColumnName>
      <Ressource>COL_Clearer</Ressource>
      <DataType>string</DataType>
      <Nowrap>true</Nowrap>
      <Scale>0</Scale>
      <IsMandatory>false</IsMandatory>
      <RegularExpression></RegularExpression>
      <Default></Default>
      <IsHide>true</IsHide>
      <IsHideInDataGrid>true</IsHideInDataGrid>
      <IsHideInCriteria>false</IsHideInCriteria>
      <IsDataKeyField>false</IsDataKeyField>
      <IsKeyField>false</IsKeyField>
      <IsForeignKeyField>false</IsForeignKeyField>
      <IsIdentity>false</IsIdentity>
      <IsUpdatable>false</IsUpdatable>
      <IsOrderBy>false</IsOrderBy>
      <IsHyperLink linktype="column" type="IDA" data="IDA_CLEARER">true</IsHyperLink>
    </Column>
    <Column>
      <ColumnName>CLEARER_BOOKIDENTIFIER</ColumnName>
      <Ressource>COL_BookClearer</Ressource>
      <DataType>string</DataType>
      <Scale>0</Scale>
      <IsMandatory>false</IsMandatory>
      <RegularExpression></RegularExpression>
      <Default></Default>
      <IsHide>false</IsHide>
      <IsHideInDataGrid>true</IsHideInDataGrid>
      <IsHideInCriteria>false</IsHideInCriteria>
      <IsKeyField>false</IsKeyField>
      <IsDataKeyField>false</IsDataKeyField>
      <IsIdentity>false</IsIdentity>
      <IsOrderBy>false</IsOrderBy>
      <IsHyperLink linktype="column" type="IDB" data="IDB_CLEARER">true</IsHyperLink>
    </Column>
    <Column>
      <ColumnName>CLEARER_DISPLAYNAME</ColumnName>
      <Ressource>COL_ActorClearer</Ressource>
      <DataType>string</DataType>
      <Nowrap>true</Nowrap>
      <Scale>0</Scale>
      <IsMandatory>false</IsMandatory>
      <RegularExpression></RegularExpression>
      <Default></Default>
      <IsHide>false</IsHide>
      <IsHideInDataGrid>true</IsHideInDataGrid>
      <IsHideInCriteria>false</IsHideInCriteria>
      <IsDataKeyField>false</IsDataKeyField>
      <IsKeyField>false</IsKeyField>
      <IsForeignKeyField>false</IsForeignKeyField>
      <IsIdentity>false</IsIdentity>
      <IsUpdatable>false</IsUpdatable>
      <IsOrderBy>false</IsOrderBy>
      <IsHyperLink linktype="column" type="IDA" data="IDA_CLEARER">true</IsHyperLink>
    </Column>

    <Column>
      <ColumnName>IDI</ColumnName>
      <Ressource>IDI</Ressource>
      <Colspan>0</Colspan>
      <DataType>int</DataType>
      <Length>10</Length>
      <Scale>0</Scale>
      <IsMandatory>true</IsMandatory>
      <RegularExpression/>
      <Default/>
      <IsHide>true</IsHide>
      <IsHideInDataGrid>true</IsHideInDataGrid>
      <IsDataKeyField>false</IsDataKeyField>
      <IsKeyField>false</IsKeyField>
      <IsForeignKeyField>false</IsForeignKeyField>
      <IsIdentity>false</IsIdentity>
      <IsUpdatable>false</IsUpdatable>
      <IsOrderBy>false</IsOrderBy>
      <Relation>
        <TableName>INSTRUMENT</TableName>
        <AliasTableName>ns</AliasTableName>
        <ColumnRelation>
          <ColumnName>IDI</ColumnName>
          <DataType>int</DataType>
        </ColumnRelation>
        <ColumnSelect>
          <ColumnName>IDENTIFIER</ColumnName>
          <Ressource>Instrument</Ressource>
          <DataType>string</DataType>
        </ColumnSelect>
        <ColumnLabel>
          <ColumnName>DISPLAYNAME</ColumnName>
          <Ressource>DISPLAYNAME</Ressource>
          <DataType>string</DataType>
        </ColumnLabel>
      </Relation>
    </Column>

    <Column>
      <ColumnName>IDASSET</ColumnName>
      <Ressource>IDASSET</Ressource>
      <DataType>int</DataType>
      <Colspan>0</Colspan>
      <Length>10</Length>
      <Scale>0</Scale>
      <IsMandatory>true</IsMandatory>
      <RegularExpression></RegularExpression>
      <Default></Default>
      <IsHide>true</IsHide>
      <IsHideInDataGrid>true</IsHideInDataGrid>
      <IsDataKeyField>false</IsDataKeyField>
      <IsKeyField>false</IsKeyField>
      <IsForeignKeyField>false</IsForeignKeyField>
      <IsIdentity>false</IsIdentity>
      <IsUpdatable>false</IsUpdatable>
      <IsOrderBy>false</IsOrderBy>
    </Column>

    <Column>
      <ColumnName>ASSET_IDENTIFIER</ColumnName>
      <Ressource>Asset</Ressource>
      <DataType>string</DataType>
      <Scale>0</Scale>
      <IsMandatory>false</IsMandatory>
      <RegularExpression></RegularExpression>
      <Default></Default>
      <IsHide>true</IsHide>
      <IsHideInDataGrid>true</IsHideInDataGrid>
      <IsKeyField>false</IsKeyField>
      <IsDataKeyField>false</IsDataKeyField>
      <IsIdentity>false</IsIdentity>
      <IsOrderBy>false</IsOrderBy>
    </Column>
  </Referential>
</Referentials>
