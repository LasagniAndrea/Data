function OnTradeChanged(n){var t=document.getElementById(n),r,i;if(null!=t&&(r=t.attributes,i=r.getNamedItem("oldvalue"),null!=i&&i.value!=t.value)){var u=document.getElementById("divdescandstatus"),f=document.getElementById("pnlSummary"),e=document.getElementById("tblDetail"),o=document.getElementById("divfooter"),s=document.getElementById("divextllink");null!=u&&u.removeNode(!0);null!=f&&f.removeNode(!0);null!=e&&e.removeNode(!0);null!=pnlExtlLink&&pnlExtlLink.removeNode(!0);null!=o&&o.removeNode(!0)}}function SaveInputTrade(n,t,i,r,u){var f=!0;return u==="True"&&(EnableValidators(),f=Page_ClientValidate()),f&&ConfirmInputTrade(n,t,i,r),f&&SetNoAutoPostbackCtrlChanged("tblDetail"),DisableValidators(),f}function ConfirmInputTrade(n,t,i,r){ConfirmInputTradeWithArgs(n,t,i,r,"TRUE","FALSE")}function ConfirmInputTradeWithArgs(n,t,i,r,u,f){i=i.replace("{0}",r);OpenMainConfirm(n,i,"confirm",0,0,300,0,t,u,f)}function ConfirmInputEvent(n,t,i,r,u){i=i.replace("{0}",r);i=i.replace("{1}",u);OpenMainConfirm(n,i,"confirm",0,0,300,0,t,"TRUE","FALSE")}function SetProduct(){var n=document.forms[0];__doPostBack("tblMenu$mnuConsult","SetProduct")}function OpenTradeAccDayBook(n,t){var i="List.aspx?Trade=Accounting:ACCDAYBOOK";i+="&IDMenu=OTC_VIEW_ACCDAYBOOK";i+="&InputMode=2";i+="&CondApp=TRADE_CONSUL";i+="&DA=[[Data name='IDT' datatype='int']]"+n+"[[/Data]]";i+="&SubTitle="+t;ret=window.open(i)}function OpenTradeCashFlows(n,t){var i="List.aspx?Trade=CASHFLOWS";i+="&IDMenu=CashFlows";i+="&InputMode=2";i+="&CondApp=TRADE_CONSUL";i+="&DA=[[Data name='IDT' datatype='int']]"+n+"[[/Data]]";i+="&SubTitle="+t;ret=window.open(i)}function OpenTradeClearingSpecific(n,t,i,r,u,f,e,o,s,h,c,l,a,v){var y="List.aspx?ProcessBase=POSKEEPING_SPEC";y+="&ProcessType=ProcessCSharp";y+="&ProcessName=EfsML.Business.PosKeepingTools|EFS.EfsML|AddPosRequestClearingSPEC";y+="&InputMode=2";y+="&IDMENU=OTC_INP_TRD_CLEARSPEC";y+="&DA=[[Data name='IDENTIFIER' datatype='string']]"+t+"[[/Data]];";y+="[[Data name='SIDE' datatype='string']]"+i+"[[/Data]];";y+="[[Data name='AVAILABLEQTY' datatype='int']]"+r+"[[/Data]];";y+="[[Data name='PRICE' datatype='decimal']]"+u+"[[/Data]];";y+="[[Data name='ENTITY' datatype='int']]"+f+"[[/Data]];";y+="[[Data name='DTBUSINESS' datatype='date']]"+e+"[[/Data]];";y+="[[Data name='CSSCUSTODIAN' datatype='int']]"+o+"[[/Data]];";y+="[[Data name='MARKET' datatype='int']]"+s+"[[/Data]];";y+="[[Data name='ASSET' datatype='string']]"+h+"[[/Data]];";y+="[[Data name='IDT' datatype='int']]"+n+"[[/Data]];";y+="[[Data name='DEALER' datatype='string']]"+c+"[[/Data]];";y+="[[Data name='BOOKDEALER' datatype='string']]"+l+"[[/Data]];";y+="[[Data name='CLEARER' datatype='string']]"+a+"[[/Data]];";y+="[[Data name='BOOKCLEARER' datatype='string']]"+v+"[[/Data]];";ret=window.open(y)}function OpenTradePosAction_ETD(n,t){var i="List.aspx?Log=POSACTIONDET";i+="&IDMenu=OTC_VIEW_FO_POSACTIONDET";i+="&InputMode=2";i+="&isLoadData=1";i+="&DA=[[Data name='IDT' datatype='int']]"+n+"[[/Data]]";i+="&SubTitle="+t;ret=window.open(i)}function OpenTradePosAction_OTC(n,t){var i="List.aspx?Log=POSACTIONDET_OTC";i+="&IDMenu=OTC_VIEW_FO_POSACTIONDET";i+="&InputMode=2";i+="&isLoadData=1";i+="&DA=[[Data name='IDT' datatype='int']]"+n+"[[/Data]]";i+="&SubTitle="+t;ret=window.open(i)}function OpenTradeAuditAction(n,t){var i="List.aspx?Log=ACTIONDET";i+="&InputMode=2";i+="&isLoadData=1";i+="&DA=[[Data name='IDT' datatype='int']]"+n+"[[/Data]]";i+="&SubTitle="+t;ret=window.open(i)}function OpenTradeSplit(n){ret=window.open("Split.aspx?GUID="+n,"_blank")}function OpenInstrumentSelection(n){ret=window.open("SelProduct.aspx?GrpElement="+n,"ProductSelection","fullscreen=no,height=800,width=600,location=no,scrollbars=no,status=no,resizable=yes")}function OpenTradeEvents(n,t){ret=window.open("TradeEvents.aspx?GUID="+n+"&Action="+t,"_blank")}function OpenTradeAdminEvents(n,t){ret=window.open("TradeAdminEvents.aspx?GUID="+n+"&Action="+t,"_blank")}function OpenDebtSecurityEvents(n,t){ret=window.open("DebtSecEvents.aspx?GUID="+n+"&Action="+t,"_blank")}function OpenTradeRiskEvents(n,t){ret=window.open("TradeRiskEvents.aspx?GUID="+n+"&Action="+t,"_blank")}function OpenEars(n,t){ret=window.open("Ear.aspx?GUID="+n+"&Action="+t,"_blank")}function OpenTradeTracks(n,t){ret=window.open("Tracks.aspx?GUID="+n+"&Action="+t,"_blank")}function OpenTradeAction(n,t){ret=window.open("TradeAction.aspx?GUID="+n+"&Action="+t,"_blank")}function OpenTradeAdminAction(n,t){ret=window.open("TradeAdminAction.aspx?GUID="+n+"&Action="+t,"_blank")}function OpenObjectFpML(n,t,i,r,u,f,e,o){ret=window.open("CustomFpMLObject.aspx?GUID="+n+"&Object="+t+"&Element="+i+"&Occurence="+r+"&CopyTo="+u+"&Title="+f+"&TitleRight="+o,"object")}function LoadAutoCompleteData(){$(".or-autocomplete").autocomplete({source:function(n,t){var r=$(this)[0].element[0].id,u=$get(r.replace("TXT","BUT")),i=u.attributes.onclick.value;i=OpenReferentialForAutocomplete(i);$.ajax({url:"WebServices/ReferentialWebService.asmx/LoadAutoCompleteData",data:"{ 'request': '"+n.term+"','controlId': '"+r+"','openReferential': '"+i+"'}",dataType:"json",type:"POST",contentType:"application/json; charset = utf-8",dataFilter:function(n){return n},success:function(n){t($.map(n.d,function(n){return{value:n}}))},error:AutocompleteError})},minLength:1,focus:function(n,t){var i=this.id;$("#"+i).val(t.item.value)}})}function SetLinkIdToHeaderToggle(n,t){var i=n.value,f="black",e="white",r,u,o;n.tagName.toUpperCase()=="SELECT"&&(i=$(n).find("option:selected").text(),f=$(n).find("option:selected").css("color"),e=$(n).find("option:selected").css("background-color"));"default"==t?(r=$(n).parent().closest("div[class='contenth']").prev(),$(r)&&(u=$(r).children(".headLinkInfo"),$(u)==undefined?(o="<span class='headLinkInfo'>"+i+"<\/span>",$(r).append(o)):$(u).text(i))):SetStyleToLinkIdHeaderToggle(t,i,f,e)}function SetStyleToLinkIdHeaderToggle(n,t,i,r){var u="rgb(0, 0, 0)",f="rgb(255, 255, 255)",e="rgb(0, 0, 0)",o=t=="RegularTrade"?"":t;r==u&&i==u&&(r=f,i=e);r==u&&(r=i,i=i==f?e:f);i==u&&(i=r==e?f:e);i=i+"!important";r=r+"!important";$("#"+n)&&($("#"+n).text(o),$("#"+n).attr("style","background-color:"+r+";color:"+i+";border-color:"+i+";"))}