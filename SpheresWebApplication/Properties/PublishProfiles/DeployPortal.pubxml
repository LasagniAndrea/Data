<?xml version="1.0" encoding="utf-8"?>
<!--
Ce fichier est utilisé par le processus de publication/package de votre projet Web. Vous pouvez personnaliser le comportement de ce processus
en modifiant ce fichier MSBuild. Pour en savoir plus à ce sujet, consultez la page http://go.microsoft.com/fwlink/?LinkID=208121. 
-->
<!-- FI 20160804 [Migration TFS] GLOP Il faut revoir le deploy du portal -->
<Project ToolsVersion="4.0" xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
  <PropertyGroup>
    <WebPublishMethod>FileSystem</WebPublishMethod>
    <LastUsedBuildConfiguration>Release</LastUsedBuildConfiguration>
    <LastUsedPlatform>Any CPU</LastUsedPlatform>
    <SiteUrlToLaunchAfterPublish />
    <LaunchSiteAfterPublish>True</LaunchSiteAfterPublish>
    <ExcludeApp_Data>False</ExcludeApp_Data>
    <publishUrl>..\DeployPortal</publishUrl>
    <DeleteExistingFiles>True</DeleteExistingFiles>
    <ExcludeFoldersFromDeployment>BusinessSchemas;CCIML;GUIOutput;HelpOnLine;HelpSchemas;Trial;Library;Message;CustomerPortal\PDIML;Resource;RN;XMLCompare</ExcludeFoldersFromDeployment>
    <ExcludeFilesFromDeployment>
      bin\Oracle.DataAccess.dll;
      ErrorLogsFiles\*.xml;
      config\AppSettingsSpheres.config;config\AppSettingsSpheresVision.config;
      BusinessMonitoring.aspx;
      BusinessMonitoring2.aspx;
      BusinessMonitoringParam.aspx;
      CalculYieldCurve.aspx;
      CodeEvent.aspx;
      CustomFpMLObject.aspx;
      DebtSecCapturePage.aspx;
      DebtSecEvents.aspx;
      Ear.aspx;
      EntityMarket.aspx;
      EventCapturePage.aspx;
      EventInvoiceDetailFee.aspx;
      EventReset.aspx;
      Events.aspx;
      EventSi.aspx;
      EventSiMsg.aspx;
      EventUnderlyerValuationDates.aspx;
      FpMLCopyPaste.aspx;
      GetMaturityDate.aspx;
      GetQuotation.aspx;
      RunGateBCS.aspx;
      SelProduct.aspx;
      SubTradeEvents.aspx;
      Tracks.aspx;
      TradeAction.aspx;
      TradeAdminCapturePage.aspx;
      TradeAdminEvents.aspx;
      TradeCapturePage.aspx;
      TradeEvents.aspx;
      TradeRiskCapturePage.aspx;
      TradeRiskEvents.aspx;
      TradeStatus.aspx;</ExcludeFilesFromDeployment>
  </PropertyGroup>

  <Target Name="CopyPDIML">
    <ItemGroup>
      <_CustomFiles Include="CustomerPortal\PDIML\*.*" />
      <FilesForPackagingFromProject Include="%(_CustomFiles.Identity)">
        <DestinationRelativePath>PDIML\%(RecursiveDir)%(Filename)%(Extension)</DestinationRelativePath>
      </FilesForPackagingFromProject>
    </ItemGroup>
  </Target>
  <PropertyGroup>
    <CopyAllFilesToSingleFolderForPackageDependsOn>CopyPDIML;</CopyAllFilesToSingleFolderForPackageDependsOn>
  </PropertyGroup>
  
</Project>