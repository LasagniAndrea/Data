<?xml version="1.0" encoding="utf-8" ?>
<Referentials>
  <Referential>
    <TableName>MARCHE_PRODUIT_CLIENT</TableName>
    <Ressource>MARCHE_PRODUIT_CLIENT</Ressource>
    <ColumnByRow>3</ColumnByRow>
    <Create>true</Create>
    <Modify>false</Modify>
    <Remove>false</Remove>
    <Duplicate>false</Duplicate>
    <Image>gif/Product.gif</Image>

    <ToolBar>top</ToolBar>
    <Notepad>false</Notepad>
    <AttachedDoc>false</AttachedDoc>
    <HelpUrl></HelpUrl>

    <SQLJoin>inner join dbo.PRODUITS prod on prod.ID_PRODUIT=tblmain.ID_PRODUIT </SQLJoin>

    <SQLWhere>
      <ColumnName>CD_CLIENT</ColumnName>
      <DataType>int</DataType>
      <Operator>=</Operator>
      <!-- PL 20110713 Suppression du ABS() qui génère un plantage en v2.6, rest eà savoir le pourquoi de cet ABS ? -->
      <!-- LstValue>ABS(%%EXTLLINK_USER%%)</LstValue -->
      <LstValue>%%EXTLLINK_USER%%</LstValue>
    </SQLWhere>

    <Column>
      <ColumnName>ID_MARCHE</ColumnName>
      <Ressource>ID_MARCHE</Ressource>
      <DataType>int</DataType>
      <Colspan>0</Colspan>
      <Length>10</Length>
      <Scale>0</Scale>
      <IsMandatory>true</IsMandatory>
      <RegularExpression>([\d]*)</RegularExpression>
      <Default>
        <Value>%%FOREIGN_KEY%%</Value>
      </Default>
      <IsHide>false</IsHide>
      <IsHideInDataGrid>false</IsHideInDataGrid>
      <IsDataKeyField>true</IsDataKeyField>
      <IsKeyField>false</IsKeyField>
      <IsForeignKeyField>true</IsForeignKeyField>
      <IsIdentity>false</IsIdentity>
      <IsUpdatable>false</IsUpdatable>
      <Relation>
        <TableName>MARCHES</TableName>
        <ColumnRelation>
          <ColumnName>ID_MARCHE</ColumnName>
          <DataType>int</DataType>
        </ColumnRelation>
        <ColumnSelect>
          <ColumnName>NOM_MARCHE</ColumnName>
          <Ressource>Marche</Ressource>
          <DataType>string</DataType>
        </ColumnSelect>
        <Condition>
          <TableName>MARCHES_CLIENT</TableName>
          <ColumnRelation>
            <ColumnName>ID_MARCHE</ColumnName>
            <Type>int</Type>
          </ColumnRelation>
          <SQLWhere>
            MARCHES_CLIENT.CD_CLIENT=ABS(%%EXTLLINK_USER%%)
          </SQLWhere>
        </Condition>
      </Relation>
      <html_BLOCK title="Marche" columnbyrow="1"></html_BLOCK>
    </Column>
    <Column>
      <ColumnName>CD_CLIENT</ColumnName>
      <Ressource>CD_CLIENT</Ressource>
      <DataType>int</DataType>
      <Colspan>0</Colspan>
      <Length>12</Length>
      <Scale>0</Scale>
      <IsMandatory>true</IsMandatory>
      <RegularExpression>([\d]*)</RegularExpression>
      <Default>
        <Value>%%EXTLLINK_USER%%</Value>
      </Default>
      <IsHide>true</IsHide>
      <IsHideInDataGrid>true</IsHideInDataGrid>
      <IsDataKeyField>true</IsDataKeyField>
      <IsKeyField>false</IsKeyField>
      <IsForeignKeyField>false</IsForeignKeyField>
      <IsIdentity>false</IsIdentity>
      <IsUpdatable>false</IsUpdatable>
      <Relation></Relation>
    </Column>
    <Column>
      <ColumnName>ID_PRODUIT</ColumnName>
      <Ressource>ID_PRODUIT</Ressource>
      <DataType>int</DataType>
      <Colspan>0</Colspan>
      <Length>12</Length>
      <Scale>0</Scale>
      <IsMandatory>true</IsMandatory>
      <RegularExpression>([\d]*)</RegularExpression>
      <Default></Default>
      <IsHide>false</IsHide>
      <IsHideInDataGrid>false</IsHideInDataGrid>
      <IsDataKeyField>true</IsDataKeyField>
      <IsKeyField>false</IsKeyField>
      <IsForeignKeyField>false</IsForeignKeyField>
      <IsIdentity>false</IsIdentity>
      <IsUpdatable>true</IsUpdatable>
      <!--IsOrderBy>true</IsOrderBy-->
      <Relation>
        <TableName>PRODUITS</TableName>
        <ColumnRelation>
          <ColumnName>ID_PRODUIT</ColumnName>
          <DataType>int</DataType>
        </ColumnRelation>
        <ColumnSelect>
          <ColumnName>CD_PRODUIT</ColumnName>
          <Ressource>Product</Ressource>
          <DataType>string</DataType>
        </ColumnSelect>
        <ColumnLabel>
          <ColumnName>LIB_PRODUIT</ColumnName>
          <Ressource>Libellé</Ressource>
          <DataType>string</DataType>
        </ColumnLabel>
        <Condition>
          <TableName>VUE_MARCHES_PRODUITS|VUE_MARCHES_PRODUITS_UPD</TableName>
          <AliasTableName>vmp</AliasTableName>
          <ColumnRelation>
            <ColumnName>ID_PRODUIT</ColumnName>
            <Type>int</Type>
          </ColumnRelation>
          <SQLWhere>
            vmp.ID_MARCHE = %%FOREIGN_KEY%% and vmp.CD_CLIENT=ABS(%%EXTLLINK_USER%%)
          </SQLWhere>
        </Condition>
      </Relation>
      <html_BLOCK title="Product" columnbyrow="1"></html_BLOCK>
    </Column>
    <Column>
      <ColumnName>LIB_PRODUIT</ColumnName>
      <Ressource>Libellé</Ressource>
      <AliasTableName>prod</AliasTableName>
      <DataType>string</DataType>
      <Colspan>0</Colspan>
      <Length>35</Length>
      <Scale>0</Scale>
      <IsMandatory>false</IsMandatory>
      <RegularExpression></RegularExpression>
      <Default></Default>
      <IsHide>true</IsHide>
      <IsHideInDataGrid>false</IsHideInDataGrid>
      <IsDataKeyField>true</IsDataKeyField>
      <IsKeyField>false</IsKeyField>
      <IsForeignKeyField>false</IsForeignKeyField>
      <IsIdentity>false</IsIdentity>
      <IsUpdatable>false</IsUpdatable>
      <IsOrderBy>true</IsOrderBy>
      <Relation></Relation>
    </Column>
  </Referential>
</Referentials>