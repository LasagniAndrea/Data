<?xml version="1.0" encoding="utf-8" ?>
<!-- FI 20120104 [] mise en place des mots clefs %%SR SESSIONRESTRICT, suppression de la requête Oracle-->
<!-- EG 20220519 [WI637] Refactoring requête -->
<!-- EG 20240507 [WI917] Some invoices are missing in the detailed aged balance (Left outer join on table INVOICINGRULES -->
<Referentials>
	<Referential>
    <TableName>VW_AGEINGBALANCEDET</TableName>
    <IsUseSQLParameters>true</IsUseSQLParameters>
    <AliasTableName>ab</AliasTableName>
		<Ressource></Ressource>
		<ColumnByRow>3</ColumnByRow>
		<Create>false</Create>
		<Modify>false</Modify>
		<Remove>false</Remove>
		<Image>gif\Views.gif</Image>
		<Notepad>false</Notepad>
    <LoadOnStart>false</LoadOnStart>
    <Timeout>200</Timeout>

    <SQLSelect>
      <Command rdbms = "all">
        <![CDATA[
					select 'ADM' as GPRODUCT, avi.IDT, avi.IDENTIFIER, avi.DTTRADE, avi.INVOICEDATE, avi.IDINVOICINGRULES, isnull(ir.IDENTIFIER, '*** NOT FOUND ***') as INVOICINGRULES_IDENTIFIER,
					/* Net initial */
					avi.NTO_AMOUNT as INIT_NTO_AMOUNT, avi.NTO_CUR as INIT_NTO_CUR,
					avi.NTI_AMOUNT as INIT_NTI_AMOUNT, avi.NTI_CUR as INIT_NTI_CUR,
					avi.NTA_AMOUNT as INIT_NTA_AMOUNT, avi.NTA_CUR as INIT_NTA_CUR,
					/* Avoirs éventuels */
					isnull(avc.CREDIT_NTO_AMOUNT,0) as CREDIT_NTO_AMOUNT, avi.NTO_CUR as CREDIT_NTO_CUR,
					isnull(avc.CREDIT_NTI_AMOUNT,0) as CREDIT_NTI_AMOUNT, avi.NTI_CUR as CREDIT_NTI_CUR,
					isnull(avc.CREDIT_NTA_AMOUNT,0) as CREDIT_NTA_AMOUNT, avi.NTA_CUR as CREDIT_NTA_CUR,
					/* Allouees */
					isnull(alloc.ALLOC_NTO_AMOUNT,0) as ALLOC_NTO_AMOUNT, avi.NTO_CUR as ALLOC_NTO_CUR,
					isnull(alloc.ALLOC_NTI_AMOUNT,0) as ALLOC_NTI_AMOUNT, avi.NTI_CUR as ALLOC_NTI_CUR,
					isnull(alloc.ALLOC_NTA_AMOUNT,0) as ALLOC_NTA_AMOUNT, avi.NTA_CUR as ALLOC_NTA_CUR,
					/* Restant du */
					avi.NTO_AMOUNT - isnull(avc.CREDIT_NTO_AMOUNT,0) - isnull(alloc.ALLOC_NTO_AMOUNT,0) as REMAIN_NTO_AMOUNT, avi.NTO_CUR as REMAIN_NTO_CUR,
					avi.NTI_AMOUNT - isnull(avc.CREDIT_NTI_AMOUNT,0) - isnull(alloc.ALLOC_NTI_AMOUNT,0) as REMAIN_NTI_AMOUNT, avi.NTI_CUR as REMAIN_NTI_CUR,
					avi.NTA_AMOUNT - isnull(avc.CREDIT_NTA_AMOUNT,0) - isnull(alloc.ALLOC_NTA_AMOUNT,0) as REMAIN_NTA_AMOUNT, avi.NTA_CUR as REMAIN_NTA_CUR,

					avi.IDA_INVOICED, avi.IDB_INVOICED, avi.IDA_BENEFICIARY, avi.IDB_BENEFICIARY,
					avi.ROWATTRIBUT,avi.ROWVERSION

					from dbo.VW_AVAILABLEINVOICESTL avi
					%%SR:TRADEADMIN_JOIN%%(avi.IDT)
          
					left outer join 
					(
						select tr.IDT,
						SUM(case when ev.EVENTTYPE = 'NTO' then  isnull(ev.VALORISATION,0) else 0 end) as CREDIT_NTO_AMOUNT,
						SUM(case when ev.EVENTTYPE = 'NTI' then  isnull(ev.VALORISATION,0) else 0 end) as CREDIT_NTI_AMOUNT,
						SUM(case when ev.EVENTTYPE = 'NTA' then  isnull(ev.VALORISATION,0) else 0 end) as CREDIT_NTA_AMOUNT
						from dbo.TRADE tr
						inner join dbo.TRADELINK tl on (tl.IDT_B=tr.IDT)
						inner join dbo.TRADE tr_credit on (tr_credit.IDT=tl.IDT_A) and (tr_credit.IDSTENVIRONMENT='REGULAR') and (tr_credit.IDSTACTIVATION='REGULAR')
						inner join dbo.INSTRUMENT ns on (ns.IDI=tr_credit.IDI)
						inner join dbo.PRODUCT pr on (pr.IDP=ns.IDP) and (pr.IDENTIFIER='credit')
						inner join dbo.EVENT ev on (ev.IDT=tr_credit.IDT) and (ev.EVENTCODE='LPP') and (ev.EVENTTYPE in ('NTO','NTI','NTA'))
						inner join dbo.EVENTCLASS ec on (ec.IDE=ev.IDE) and (ec.EVENTCLASS='REC')
						where (tr.IDSTENVIRONMENT='REGULAR') and (tr.IDSTACTIVATION='REGULAR')
						group by tr.IDT
					) avc on (avc.IDT=avi.IDT)

					left outer join
					(
						select tr.IDT,
						SUM(case when ev.EVENTTYPE = 'NTO' then  isnull(ev.VALORISATION,0) else 0 end) as ALLOC_NTO_AMOUNT,
						SUM(case when ev.EVENTTYPE = 'NTI' then  isnull(ev.VALORISATION,0) else 0 end) as ALLOC_NTI_AMOUNT,
						SUM(case when ev.EVENTTYPE = 'NTA' then  isnull(ev.VALORISATION,0) else 0 end) as ALLOC_NTA_AMOUNT
						from dbo.TRADE tr
						inner join dbo.INSTRUMENT ns on (ns.IDI=tr.IDI)
						inner join dbo.PRODUCT pr on (pr.IDP=ns.IDP) and (pr.IDENTIFIER in ('invoice','additionalInvoice'))
						inner join dbo.EVENT ev on (ev.IDT=tr.IDT) and (ev.EVENTCODE='LPP') and (ev.EVENTTYPE in ('NTO','NTI','NTA')) and (ev.IDSTACTIVATION = 'REGULAR')
						inner join dbo.EVENTCLASS ec on (ec.IDE=ev.IDE) and (ec.EVENTCLASS='STL') and (ec.DTEVENT <= @DATE1)
						where (tr.IDSTENVIRONMENT='REGULAR') and (tr.IDSTACTIVATION='REGULAR')
						group by tr.IDT
					) alloc on (alloc.IDT=avi.IDT)
          left outer join dbo.INVOICINGRULES ir on (ir.IDINVOICINGRULEs = avi.IDINVOICINGRULES)
					where
					(avi.IDA_BENEFICIARY = case when -1=@BENEFICIARY Then  avi.IDA_BENEFICIARY else @BENEFICIARY end ) and (avi.IDA_ENTITY = @ENTITY) 
					and ((avi.NTO_AMOUNT - isnull(avc.CREDIT_NTO_AMOUNT, 0) - isnull(alloc.ALLOC_NTO_AMOUNT, 0))<>0)
					and (%%SR:TRADEADMIN_WHERE_PREDICATE%%)
        ]]>
      </Command>
    </SQLSelect>

		<Column>
			<ColumnName>IDA_BENEFICIARY</ColumnName>
			<Ressource>ENTITY</Ressource>
			<DataType>int</DataType>
			<Length>10</Length>
			<Scale>0</Scale>
			<IsMandatory>false</IsMandatory>
			<RegularExpression></RegularExpression>
			<Default></Default>
			<IsHide>false</IsHide>
			<IsHideInDataGrid>true</IsHideInDataGrid>
			<IsHideInCriteria>true</IsHideInCriteria>
			<IsDataKeyField>false</IsDataKeyField>
			<IsKeyField>false</IsKeyField>
			<IsForeignKeyField>false</IsForeignKeyField>
			<IsIdentity>false</IsIdentity>
			<IsUpdatable>true</IsUpdatable>
			<IsOrderBy>false</IsOrderBy>
			<Relation>
				<TableName>ACTOR</TableName>
				<AliasTableName>ac_beneficiary</AliasTableName>
				<ColumnRelation>
					<ColumnName>IDA</ColumnName>
					<DataType>int</DataType>
				</ColumnRelation>
				<ColumnSelect>
					<ColumnName>IDENTIFIER</ColumnName>
					<Ressource>ENTITY</Ressource>
					<DataType>string</DataType>
				</ColumnSelect>
				<ColumnLabel>
					<ColumnName>DISPLAYNAME</ColumnName>
					<Ressource>DISPLAYNAME</Ressource>
					<DataType>string</DataType>
				</ColumnLabel>
        <AutoComplete enabled="true"/>
			</Relation>
		</Column>
		<Column>
			<ColumnName>IDB_BENEFICIARY</ColumnName>
			<Ressource>BeneficiaryBook</Ressource>
			<DataType>int</DataType>
			<Length>10</Length>
			<Nowrap>true</Nowrap>
			<Scale>0</Scale>
			<IsMandatory>false</IsMandatory>
			<RegularExpression></RegularExpression>
			<Default></Default>
			<IsHide>false</IsHide>
			<IsHideInDataGrid>false</IsHideInDataGrid>
			<IsDataKeyField>false</IsDataKeyField>
			<IsKeyField>false</IsKeyField>
			<IsForeignKeyField>false</IsForeignKeyField>
			<IsIdentity>false</IsIdentity>
			<IsUpdatable>false</IsUpdatable>
			<IsOrderBy>false</IsOrderBy>
			<Relation>
				<TableName>BOOK</TableName>
				<AliasTableName>bk_beneficiary</AliasTableName>
				<ColumnRelation>
					<ColumnName>IDB</ColumnName>
					<DataType>int</DataType>
				</ColumnRelation>
				<ColumnSelect>
					<ColumnName>IDENTIFIER</ColumnName>
					<Ressource>BeneficiaryBook</Ressource>
					<DataType>string</DataType>
				</ColumnSelect>
				<ColumnLabel>
					<ColumnName>DISPLAYNAME</ColumnName>
					<Ressource>DISPLAYNAME</Ressource>
					<DataType>string</DataType>
				</ColumnLabel>
			</Relation>
		</Column>
		<Column>
			<ColumnName>IDA_INVOICED</ColumnName>
			<Ressource>IDA_INVOICED</Ressource>
			<DataType>int</DataType>
			<Length>10</Length>
			<Nowrap>true</Nowrap>
			<Scale>0</Scale>
			<IsMandatory>true</IsMandatory>
			<RegularExpression></RegularExpression>
			<Default></Default>
			<IsHide>false</IsHide>
			<IsHideInDataGrid>false</IsHideInDataGrid>
			<IsHideInCriteria>false</IsHideInCriteria>
			<IsDataKeyField>false</IsDataKeyField>
			<IsKeyField>false</IsKeyField>
			<IsForeignKeyField>false</IsForeignKeyField>
			<IsIdentity>false</IsIdentity>
			<IsUpdatable>false</IsUpdatable>
			<IsOrderBy>false</IsOrderBy>
			<Relation>
				<TableName>ACTOR</TableName>
				<AliasTableName>ac_invoiced</AliasTableName>
				<ColumnRelation>
					<ColumnName>IDA</ColumnName>
					<DataType>int</DataType>
				</ColumnRelation>
				<ColumnSelect>
					<ColumnName>IDENTIFIER</ColumnName>
					<Ressource>IDA_INVOICED</Ressource>
					<DataType>string</DataType>
				</ColumnSelect>
				<ColumnLabel>
					<ColumnName>DISPLAYNAME</ColumnName>
					<Ressource>DISPLAYNAME</Ressource>
					<DataType>string</DataType>
				</ColumnLabel>
        <AutoComplete enabled="true"/>
			</Relation>
		</Column>
		<Column>
			<ColumnName>IDB_INVOICED</ColumnName>
			<Ressource></Ressource>
			<DataType>int</DataType>
			<Length>10</Length>
			<Scale>0</Scale>
			<IsMandatory>false</IsMandatory>
			<RegularExpression></RegularExpression>
			<Default></Default>
			<IsHide>false</IsHide>
			<IsHideInDataGrid>false</IsHideInDataGrid>
			<IsDataKeyField>false</IsDataKeyField>
			<IsKeyField>false</IsKeyField>
			<IsForeignKeyField>false</IsForeignKeyField>
			<IsIdentity>false</IsIdentity>
			<IsUpdatable>false</IsUpdatable>
			<IsOrderBy>false</IsOrderBy>
			<Relation>
				<TableName>BOOK</TableName>
				<AliasTableName>bk_invoiced</AliasTableName>
				<ColumnRelation>
					<ColumnName>IDB</ColumnName>
					<DataType>int</DataType>
				</ColumnRelation>
				<ColumnSelect>
					<ColumnName>IDENTIFIER</ColumnName>
					<Ressource></Ressource>
					<DataType>string</DataType>
				</ColumnSelect>
				<ColumnLabel>
					<ColumnName>DISPLAYNAME</ColumnName>
					<Ressource>DISPLAYNAME</Ressource>
					<DataType>string</DataType>
				</ColumnLabel>
			</Relation>
		</Column>
		<Column>
			<ColumnName>IDT</ColumnName>
			<Ressource>IDT</Ressource>
			<DataType>int</DataType>
			<Length>10</Length>
			<Scale>0</Scale>
			<IsMandatory>true</IsMandatory>
			<RegularExpression></RegularExpression>
			<Default></Default>
			<IsHide>false</IsHide>
			<IsHideInDataGrid>true</IsHideInDataGrid>
			<IsHideInCriteria>true</IsHideInCriteria>
			<IsDataKeyField>true</IsDataKeyField>
			<IsKeyField>false</IsKeyField>
			<IsForeignKeyField>false</IsForeignKeyField>
			<IsIdentity>true</IsIdentity>
			<IsUpdatable>false</IsUpdatable>
			<IsOrderBy>false</IsOrderBy>
			<Relation>
			</Relation>
		</Column>
		<Column>
			<ColumnName>IDENTIFIER</ColumnName>
			<Ressource>InvoiceId</Ressource>
			<DataType>string</DataType>
			<GridWidth>-100</GridWidth>
			<Length>64</Length>
			<Scale>0</Scale>
			<IsMandatory>true</IsMandatory>
			<RegularExpression></RegularExpression>
			<Default></Default>
			<IsHide>false</IsHide>
			<IsHideInDataGrid>false</IsHideInDataGrid>
			<IsHideInCriteria>false</IsHideInCriteria>
			<IsDataKeyField>false</IsDataKeyField>
			<IsKeyField>true</IsKeyField>
			<IsForeignKeyField>false</IsForeignKeyField>
			<IsIdentity>false</IsIdentity>
			<IsUpdatable>false</IsUpdatable>
			<IsOrderBy order="BK_BENEFICIARY_IDENTIFIER,AC_INVOICED_IDENTIFIER,BK_INVOICED_IDENTIFIER,INVOICEDATE,INIT_NTI_CUR,IDENTIFIER">true</IsOrderBy>
			<Relation>
			</Relation>
		</Column>
		<Column>
			<ColumnName>INVOICEDATE</ColumnName>
			<Ressource>Date</Ressource>
			<DataType>date</DataType>
			<Length>8</Length>
			<Scale>0</Scale>
			<IsMandatory>true</IsMandatory>
			<RegularExpression></RegularExpression>
			<Default></Default>
			<IsHide>false</IsHide>
			<IsHideInDataGrid>false</IsHideInDataGrid>
			<IsHideInCriteria>false</IsHideInCriteria>
			<IsDataKeyField>false</IsDataKeyField>
			<IsKeyField>false</IsKeyField>
			<IsForeignKeyField>false</IsForeignKeyField>
			<IsIdentity>false</IsIdentity>
			<IsUpdatable>false</IsUpdatable>
			<IsOrderBy>false</IsOrderBy>
			<Relation>
			</Relation>
		</Column>

    <!--<Column>
      <ColumnName>IDINVOICINGRULES</ColumnName>
      <Ressource>IDINVOICINGRULES</Ressource>
      <DataType>int</DataType>
      <Length>10</Length>
      <Scale>0</Scale>
      <IsMandatory>true</IsMandatory>
      <RegularExpression></RegularExpression>
      <Default></Default>
      <IsHide>true</IsHide>
      <IsHideInDataGrid>false</IsHideInDataGrid>
      <IsHideInCriteria>false</IsHideInCriteria>
      <IsDataKeyField>false</IsDataKeyField>
      <IsKeyField>false</IsKeyField>
      <IsForeignKeyField>false</IsForeignKeyField>
      <IsIdentity>false</IsIdentity>
      <IsUpdatable>false</IsUpdatable>
      <IsOrderBy>false</IsOrderBy>
      <Relation>
        <TableName>INVOICINGRULES</TableName>
        <ColumnRelation>
          <ColumnName>IDINVOICINGRULES</ColumnName>
          <DataType>int</DataType>
        </ColumnRelation>
        <ColumnSelect>
          <ColumnName>IDENTIFIER</ColumnName>
          <Ressource>INVOICINGRULES</Ressource>
          <DataType>string</DataType>
        </ColumnSelect>
      </Relation>
    </Column>-->
    
    <Column>
      <ColumnName>INVOICINGRULES_IDENTIFIER</ColumnName>
      <Ressource>INVOICINGRULES</Ressource>
      <DataType>string</DataType>
      <IsMandatory>false</IsMandatory>
      <RegularExpression></RegularExpression>
      <Default></Default>
      <IsHide>true</IsHide>
      <IsHideInDataGrid>false</IsHideInDataGrid>
      <IsHideInCriteria>false</IsHideInCriteria>
      <IsDataKeyField>false</IsDataKeyField>
      <IsKeyField>false</IsKeyField>
      <IsForeignKeyField>false</IsForeignKeyField>
      <IsIdentity>false</IsIdentity>
      <IsUpdatable>false</IsUpdatable>
      <IsOrderBy>false</IsOrderBy>
    </Column>

    <Column>
			<ColumnName>INIT_NTO_AMOUNT</ColumnName>
			<Ressource>InitNetTurnOverAmount</Ressource>
			<DataType>decimal</DataType>
			<Length>26</Length>
			<Scale>3</Scale>
			<IsMandatory>false</IsMandatory>
			<RegularExpression>([\d{23}.\d{3}]*)</RegularExpression>
			<Default></Default>
			<IsHide>false</IsHide>
			<IsHideInDataGrid>true</IsHideInDataGrid>
			<IsHideInCriteria>false</IsHideInCriteria>
			<IsDataKeyField>false</IsDataKeyField>
			<IsKeyField>false</IsKeyField>
			<IsForeignKeyField>false</IsForeignKeyField>
			<IsIdentity>false</IsIdentity>
			<IsUpdatable>false</IsUpdatable>
			<IsOrderBy>false</IsOrderBy>
		</Column>
		<Column>
			<ColumnName>INIT_NTO_CUR</ColumnName>
			<Ressource></Ressource>
			<DataType>string</DataType>
			<Length>3</Length>
			<Scale>0</Scale>
			<IsMandatory>false</IsMandatory>
			<RegularExpression></RegularExpression>
			<Default></Default>
			<IsHide>false</IsHide>
			<IsHideInDataGrid>true</IsHideInDataGrid>
			<IsHideInCriteria>false</IsHideInCriteria>
			<IsDataKeyField>false</IsDataKeyField>
			<IsKeyField>false</IsKeyField>
			<IsForeignKeyField>false</IsForeignKeyField>
			<IsIdentity>false</IsIdentity>
			<IsUpdatable>false</IsUpdatable>
			<IsOrderBy>false</IsOrderBy>
			<Relation>
			</Relation>
		</Column>
		<Column>
			<ColumnName>CREDIT_NTO_AMOUNT</ColumnName>
			<Ressource>CreditTurnOverAmount</Ressource>
			<DataType>decimal</DataType>
			<Length>26</Length>
			<Scale>2</Scale>
			<IsMandatory>false</IsMandatory>
			<RegularExpression></RegularExpression>
			<Default></Default>
			<IsHide>false</IsHide>
			<IsHideInDataGrid>true</IsHideInDataGrid>
			<IsHideInCriteria>true</IsHideInCriteria>
			<IsDataKeyField>false</IsDataKeyField>
			<IsKeyField>false</IsKeyField>
			<IsForeignKeyField>false</IsForeignKeyField>
			<IsIdentity>false</IsIdentity>
			<IsUpdatable>false</IsUpdatable>
			<IsOrderBy>false</IsOrderBy>
		</Column>
		<Column>
			<ColumnName>CREDIT_NTO_CUR</ColumnName>
			<Ressource></Ressource>
			<DataType>string</DataType>
			<Length>3</Length>
			<Scale>0</Scale>
			<IsMandatory>false</IsMandatory>
			<RegularExpression></RegularExpression>
			<Default></Default>
			<IsHide>false</IsHide>
			<IsHideInDataGrid>true</IsHideInDataGrid>
			<IsHideInCriteria>true</IsHideInCriteria>
			<IsDataKeyField>false</IsDataKeyField>
			<IsKeyField>false</IsKeyField>
			<IsForeignKeyField>false</IsForeignKeyField>
			<IsIdentity>false</IsIdentity>
			<IsUpdatable>false</IsUpdatable>
			<IsOrderBy>false</IsOrderBy>
			<Relation>
			</Relation>
		</Column>
		<Column>
			<ColumnName>ALLOC_NTO_AMOUNT</ColumnName>
			<Ressource>AllocNetTurnOverAmount</Ressource>
			<DataType>decimal</DataType>
			<Length>26</Length>
			<Scale>2</Scale>
			<IsMandatory>false</IsMandatory>
			<RegularExpression></RegularExpression>
			<Default></Default>
			<IsHide>false</IsHide>
			<IsHideInDataGrid>true</IsHideInDataGrid>
			<IsHideInCriteria>true</IsHideInCriteria>
			<IsDataKeyField>false</IsDataKeyField>
			<IsKeyField>false</IsKeyField>
			<IsForeignKeyField>false</IsForeignKeyField>
			<IsIdentity>false</IsIdentity>
			<IsUpdatable>false</IsUpdatable>
			<IsOrderBy>false</IsOrderBy>
		</Column>
		<Column>
			<ColumnName>ALLOC_NTO_CUR</ColumnName>
			<Ressource></Ressource>
			<DataType>string</DataType>
			<Length>3</Length>
			<Scale>0</Scale>
			<IsMandatory>false</IsMandatory>
			<RegularExpression></RegularExpression>
			<Default></Default>
			<IsHide>false</IsHide>
			<IsHideInDataGrid>true</IsHideInDataGrid>
			<IsHideInCriteria>true</IsHideInCriteria>
			<IsDataKeyField>false</IsDataKeyField>
			<IsKeyField>false</IsKeyField>
			<IsForeignKeyField>false</IsForeignKeyField>
			<IsIdentity>false</IsIdentity>
			<IsUpdatable>false</IsUpdatable>
			<IsOrderBy>false</IsOrderBy>
			<Relation>
			</Relation>
		</Column>
		<Column>
			<ColumnName>REMAIN_NTO_AMOUNT</ColumnName>
			<Ressource>RemainNetTurnOverAmount</Ressource>
			<DataType>decimal</DataType>
			<Length>26</Length>
			<Scale>2</Scale>
			<IsMandatory>false</IsMandatory>
			<RegularExpression></RegularExpression>
			<Default></Default>
			<IsHide>false</IsHide>
			<IsHideInDataGrid>true</IsHideInDataGrid>
			<IsHideInCriteria>true</IsHideInCriteria>
			<IsDataKeyField>false</IsDataKeyField>
			<IsKeyField>false</IsKeyField>
			<IsForeignKeyField>false</IsForeignKeyField>
			<IsIdentity>false</IsIdentity>
			<IsUpdatable>false</IsUpdatable>
			<IsOrderBy>false</IsOrderBy>
		</Column>
		<Column>
			<ColumnName>REMAIN_NTO_CUR</ColumnName>
			<Ressource></Ressource>
			<DataType>string</DataType>
			<Length>3</Length>
			<Scale>0</Scale>
			<IsMandatory>false</IsMandatory>
			<RegularExpression></RegularExpression>
			<Default></Default>
			<IsHide>false</IsHide>
			<IsHideInDataGrid>true</IsHideInDataGrid>
			<IsHideInCriteria>true</IsHideInCriteria>
			<IsDataKeyField>false</IsDataKeyField>
			<IsKeyField>false</IsKeyField>
			<IsForeignKeyField>false</IsForeignKeyField>
			<IsIdentity>false</IsIdentity>
			<IsUpdatable>false</IsUpdatable>
			<IsOrderBy>false</IsOrderBy>
			<Relation>
			</Relation>
		</Column>
		<Column>
			<ColumnName>INIT_NTI_AMOUNT</ColumnName>
			<Ressource>InitNetTurnOverIssueAmount</Ressource>
			<DataType>decimal</DataType>
			<Length>26</Length>
			<Scale>2</Scale>
			<IsMandatory>false</IsMandatory>
			<RegularExpression></RegularExpression>
			<Default></Default>
			<IsHide>false</IsHide>
			<IsHideInDataGrid>false</IsHideInDataGrid>
			<IsHideInCriteria>false</IsHideInCriteria>
			<IsDataKeyField>false</IsDataKeyField>
			<IsKeyField>false</IsKeyField>
			<IsForeignKeyField>false</IsForeignKeyField>
			<IsIdentity>false</IsIdentity>
			<IsUpdatable>false</IsUpdatable>
			<IsOrderBy>false</IsOrderBy>
		</Column>
		<Column>
			<ColumnName>INIT_NTI_CUR</ColumnName>
			<Ressource></Ressource>
			<DataType>string</DataType>
			<Length>3</Length>
			<Scale>0</Scale>
			<IsMandatory>false</IsMandatory>
			<RegularExpression></RegularExpression>
			<Default></Default>
			<IsHide>false</IsHide>
			<IsHideInDataGrid>false</IsHideInDataGrid>
			<IsHideInCriteria>false</IsHideInCriteria>
			<IsDataKeyField>false</IsDataKeyField>
			<IsKeyField>false</IsKeyField>
			<IsForeignKeyField>false</IsForeignKeyField>
			<IsIdentity>false</IsIdentity>
			<IsUpdatable>false</IsUpdatable>
			<IsOrderBy>false</IsOrderBy>
			<Relation>
			</Relation>
		</Column>
		<Column>
			<ColumnName>CREDIT_NTI_AMOUNT</ColumnName>
			<Ressource>CreditNetTurnOverIssueAmount</Ressource>
			<DataType>decimal</DataType>
			<Length>26</Length>
			<Scale>2</Scale>
			<IsMandatory>false</IsMandatory>
			<RegularExpression></RegularExpression>
			<Default></Default>
			<IsHide>false</IsHide>
			<IsHideInDataGrid>true</IsHideInDataGrid>
			<IsHideInCriteria>true</IsHideInCriteria>
			<IsDataKeyField>false</IsDataKeyField>
			<IsKeyField>false</IsKeyField>
			<IsForeignKeyField>false</IsForeignKeyField>
			<IsIdentity>false</IsIdentity>
			<IsUpdatable>false</IsUpdatable>
			<IsOrderBy>false</IsOrderBy>
		</Column>
		<Column>
			<ColumnName>CREDIT_NTI_CUR</ColumnName>
			<Ressource></Ressource>
			<DataType>string</DataType>
			<Length>3</Length>
			<Scale>0</Scale>
			<IsMandatory>false</IsMandatory>
			<RegularExpression></RegularExpression>
			<Default></Default>
			<IsHide>false</IsHide>
			<IsHideInDataGrid>true</IsHideInDataGrid>
			<IsHideInCriteria>true</IsHideInCriteria>
			<IsDataKeyField>false</IsDataKeyField>
			<IsKeyField>false</IsKeyField>
			<IsForeignKeyField>false</IsForeignKeyField>
			<IsIdentity>false</IsIdentity>
			<IsUpdatable>false</IsUpdatable>
			<IsOrderBy>false</IsOrderBy>
			<Relation>
			</Relation>
		</Column>
		<Column>
			<ColumnName>ALLOC_NTI_AMOUNT</ColumnName>
			<Ressource>AllocTurnOverIssueAmount</Ressource>
			<DataType>decimal</DataType>
			<Length>26</Length>
			<Scale>2</Scale>
			<IsMandatory>false</IsMandatory>
			<RegularExpression></RegularExpression>
			<Default></Default>
			<IsHide>false</IsHide>
			<IsHideInDataGrid>true</IsHideInDataGrid>
			<IsHideInCriteria>true</IsHideInCriteria>
			<IsDataKeyField>false</IsDataKeyField>
			<IsKeyField>false</IsKeyField>
			<IsForeignKeyField>false</IsForeignKeyField>
			<IsIdentity>false</IsIdentity>
			<IsUpdatable>false</IsUpdatable>
			<IsOrderBy>false</IsOrderBy>
		</Column>
		<Column>
			<ColumnName>ALLOC_NTI_CUR</ColumnName>
			<Ressource></Ressource>
			<DataType>string</DataType>
			<Length>3</Length>
			<Scale>0</Scale>
			<IsMandatory>false</IsMandatory>
			<RegularExpression></RegularExpression>
			<Default></Default>
			<IsHide>false</IsHide>
			<IsHideInDataGrid>true</IsHideInDataGrid>
			<IsHideInCriteria>true</IsHideInCriteria>
			<IsDataKeyField>false</IsDataKeyField>
			<IsKeyField>false</IsKeyField>
			<IsForeignKeyField>false</IsForeignKeyField>
			<IsIdentity>false</IsIdentity>
			<IsUpdatable>false</IsUpdatable>
			<IsOrderBy>false</IsOrderBy>
			<Relation>
			</Relation>
		</Column>
		<Column>
			<ColumnName>REMAIN_NTI_AMOUNT</ColumnName>
			<Ressource>RemainNetTurnOverIssueAmount</Ressource>
			<DataType>decimal</DataType>
			<Length>26</Length>
			<Scale>2</Scale>
			<IsMandatory>false</IsMandatory>
			<RegularExpression></RegularExpression>
			<Default></Default>
			<IsHide>false</IsHide>
			<IsHideInDataGrid>false</IsHideInDataGrid>
			<IsHideInCriteria>true</IsHideInCriteria>
			<IsDataKeyField>false</IsDataKeyField>
			<IsKeyField>false</IsKeyField>
			<IsForeignKeyField>false</IsForeignKeyField>
			<IsIdentity>false</IsIdentity>
			<IsUpdatable>false</IsUpdatable>
			<IsOrderBy>false</IsOrderBy>
		</Column>
		<Column>
			<ColumnName>REMAIN_NTI_CUR</ColumnName>
			<Ressource></Ressource>
			<DataType>string</DataType>
			<Length>3</Length>
			<Scale>0</Scale>
			<IsMandatory>false</IsMandatory>
			<RegularExpression></RegularExpression>
			<Default></Default>
			<IsHide>false</IsHide>
			<IsHideInDataGrid>false</IsHideInDataGrid>
			<IsHideInCriteria>true</IsHideInCriteria>
			<IsDataKeyField>false</IsDataKeyField>
			<IsKeyField>false</IsKeyField>
			<IsForeignKeyField>false</IsForeignKeyField>
			<IsIdentity>false</IsIdentity>
			<IsUpdatable>false</IsUpdatable>
			<IsOrderBy>false</IsOrderBy>
			<Relation>
			</Relation>
		</Column>
		<Column>
			<ColumnName>INIT_NTA_AMOUNT</ColumnName>
			<Ressource>InitNetTurnOverAccountingAmount</Ressource>
			<DataType>decimal</DataType>
			<Length>26</Length>
			<Scale>2</Scale>
			<IsMandatory>false</IsMandatory>
			<RegularExpression></RegularExpression>
			<Default></Default>
			<IsHide>false</IsHide>
			<IsHideInDataGrid>false</IsHideInDataGrid>
			<IsHideInCriteria>false</IsHideInCriteria>
			<IsDataKeyField>false</IsDataKeyField>
			<IsKeyField>false</IsKeyField>
			<IsForeignKeyField>false</IsForeignKeyField>
			<IsIdentity>false</IsIdentity>
			<IsUpdatable>false</IsUpdatable>
			<IsOrderBy>false</IsOrderBy>
		</Column>
		<Column>
			<ColumnName>INIT_NTA_CUR</ColumnName>
			<Ressource></Ressource>
			<DataType>string</DataType>
			<Length>3</Length>
			<Scale>0</Scale>
			<IsMandatory>false</IsMandatory>
			<RegularExpression></RegularExpression>
			<Default></Default>
			<IsHide>false</IsHide>
			<IsHideInDataGrid>false</IsHideInDataGrid>
			<IsHideInCriteria>false</IsHideInCriteria>
			<IsDataKeyField>false</IsDataKeyField>
			<IsKeyField>false</IsKeyField>
			<IsForeignKeyField>false</IsForeignKeyField>
			<IsIdentity>false</IsIdentity>
			<IsUpdatable>false</IsUpdatable>
			<IsOrderBy>false</IsOrderBy>
			<Relation>
			</Relation>
		</Column>
		<Column>
			<ColumnName>CREDIT_NTA_AMOUNT</ColumnName>
			<Ressource>CreditNetTurnOverAccountingAmount</Ressource>
			<DataType>decimal</DataType>
			<Length>26</Length>
			<Scale>2</Scale>
			<IsMandatory>false</IsMandatory>
			<RegularExpression></RegularExpression>
			<Default></Default>
			<IsHide>false</IsHide>
			<IsHideInDataGrid>true</IsHideInDataGrid>
			<IsHideInCriteria>true</IsHideInCriteria>
			<IsDataKeyField>false</IsDataKeyField>
			<IsKeyField>false</IsKeyField>
			<IsForeignKeyField>false</IsForeignKeyField>
			<IsIdentity>false</IsIdentity>
			<IsUpdatable>false</IsUpdatable>
			<IsOrderBy>false</IsOrderBy>
		</Column>
		<Column>
			<ColumnName>CREDIT_NTA_CUR</ColumnName>
			<Ressource></Ressource>
			<DataType>string</DataType>
			<Length>3</Length>
			<Scale>0</Scale>
			<IsMandatory>false</IsMandatory>
			<RegularExpression></RegularExpression>
			<Default></Default>
			<IsHide>false</IsHide>
			<IsHideInDataGrid>true</IsHideInDataGrid>
			<IsHideInCriteria>true</IsHideInCriteria>
			<IsDataKeyField>false</IsDataKeyField>
			<IsKeyField>false</IsKeyField>
			<IsForeignKeyField>false</IsForeignKeyField>
			<IsIdentity>false</IsIdentity>
			<IsUpdatable>false</IsUpdatable>
			<IsOrderBy>false</IsOrderBy>
			<Relation>
			</Relation>
		</Column>
		<Column>
			<ColumnName>ALLOC_NTA_AMOUNT</ColumnName>
			<Ressource>AllocNetTurnOverAccountingAmount</Ressource>
			<DataType>decimal</DataType>
			<Length>26</Length>
			<Scale>2</Scale>
			<IsMandatory>false</IsMandatory>
			<RegularExpression></RegularExpression>
			<Default></Default>
			<IsHide>false</IsHide>
			<IsHideInDataGrid>true</IsHideInDataGrid>
			<IsHideInCriteria>true</IsHideInCriteria>
			<IsDataKeyField>false</IsDataKeyField>
			<IsKeyField>false</IsKeyField>
			<IsForeignKeyField>false</IsForeignKeyField>
			<IsIdentity>false</IsIdentity>
			<IsUpdatable>false</IsUpdatable>
			<IsOrderBy>false</IsOrderBy>
		</Column>
		<Column>
			<ColumnName>ALLOC_NTA_CUR</ColumnName>
			<Ressource></Ressource>
			<DataType>string</DataType>
			<Length>3</Length>
			<Scale>0</Scale>
			<IsMandatory>false</IsMandatory>
			<RegularExpression></RegularExpression>
			<Default></Default>
			<IsHide>false</IsHide>
			<IsHideInDataGrid>true</IsHideInDataGrid>
			<IsHideInCriteria>true</IsHideInCriteria>
			<IsDataKeyField>false</IsDataKeyField>
			<IsKeyField>false</IsKeyField>
			<IsForeignKeyField>false</IsForeignKeyField>
			<IsIdentity>false</IsIdentity>
			<IsUpdatable>false</IsUpdatable>
			<IsOrderBy>false</IsOrderBy>
			<Relation>
			</Relation>
		</Column>
		<Column>
			<ColumnName>REMAIN_NTA_AMOUNT</ColumnName>
			<Ressource>RemainNetTurnOverAccountingAmount</Ressource>
			<DataType>decimal</DataType>
			<Length>26</Length>
			<Scale>2</Scale>
			<IsMandatory>false</IsMandatory>
			<RegularExpression></RegularExpression>
			<Default></Default>
			<IsHide>false</IsHide>
			<IsHideInDataGrid>false</IsHideInDataGrid>
			<IsHideInCriteria>true</IsHideInCriteria>
			<IsDataKeyField>false</IsDataKeyField>
			<IsKeyField>false</IsKeyField>
			<IsForeignKeyField>false</IsForeignKeyField>
			<IsIdentity>false</IsIdentity>
			<IsUpdatable>false</IsUpdatable>
			<IsOrderBy>false</IsOrderBy>
		</Column>
		<Column>
			<ColumnName>REMAIN_NTA_CUR</ColumnName>
			<Ressource></Ressource>
			<DataType>string</DataType>
			<Length>3</Length>
			<Scale>0</Scale>
			<IsMandatory>false</IsMandatory>
			<RegularExpression></RegularExpression>
			<Default></Default>
			<IsHide>false</IsHide>
			<IsHideInDataGrid>false</IsHideInDataGrid>
			<IsHideInCriteria>true</IsHideInCriteria>
			<IsDataKeyField>false</IsDataKeyField>
			<IsKeyField>false</IsKeyField>
			<IsForeignKeyField>false</IsForeignKeyField>
			<IsIdentity>false</IsIdentity>
			<IsUpdatable>false</IsUpdatable>
			<IsOrderBy>false</IsOrderBy>
			<Relation>
			</Relation>
		</Column>
		<Column>
			<ColumnName>DTTRADE</ColumnName>
			<Ressource>InvoiceTradeDate</Ressource>
			<DataType>date</DataType>
			<Length>8</Length>
			<Scale>0</Scale>
			<IsMandatory>true</IsMandatory>
			<RegularExpression></RegularExpression>
			<Default></Default>
			<IsHide>false</IsHide>
			<IsHideInDataGrid>true</IsHideInDataGrid>
			<IsHideInCriteria>true</IsHideInCriteria>
			<IsDataKeyField>false</IsDataKeyField>
			<IsKeyField>false</IsKeyField>
			<IsForeignKeyField>false</IsForeignKeyField>
			<IsIdentity>false</IsIdentity>
			<IsUpdatable>true</IsUpdatable>
			<IsOrderBy>false</IsOrderBy>
			<Relation>
			</Relation>
		</Column>

		<Column>
			<ColumnName>GPRODUCT</ColumnName>
			<Ressource>GPRODUCT</Ressource>
			<DataType>string</DataType>
			<Colspan>0</Colspan>
			<Length>64</Length>
			<Scale>0</Scale>
			<IsMandatory>false</IsMandatory>
			<RegularExpression></RegularExpression>
			<Default></Default>
			<IsHide>true</IsHide>
			<IsHideInDataGrid>true</IsHideInDataGrid>
			<IsHideInCriteria>true</IsHideInCriteria>
			<IsDataKeyField>false</IsDataKeyField>
			<IsKeyField>false</IsKeyField>
			<IsForeignKeyField>false</IsForeignKeyField>
			<IsIdentity>false</IsIdentity>
			<IsUpdatable>true</IsUpdatable>
			<IsOrderBy>false</IsOrderBy>
      <Relation/>
		</Column>

		<Column>
			<ColumnName>ROWATTRIBUT</ColumnName>
			<Ressource>ROWATTRIBUT</Ressource>
			<DataType>string</DataType>
			<Length>1</Length>
			<Scale>0</Scale>
			<IsMandatory>false</IsMandatory>
			<RegularExpression></RegularExpression>
			<Default></Default>
			<IsHide>true</IsHide>
			<IsHideInDataGrid>true</IsHideInDataGrid>
			<IsDataKeyField>false</IsDataKeyField>
			<IsKeyField>false</IsKeyField>
			<IsForeignKeyField>false</IsForeignKeyField>
			<IsIdentity>false</IsIdentity>
			<IsUpdatable>true</IsUpdatable>
			<IsOrderBy>false</IsOrderBy>
			<Relation>
			</Relation>
		</Column>
		<Column>
			<ColumnName>ROWVERSION</ColumnName>
			<Ressource>ROWVERSION</Ressource>
			<DataType>string</DataType>
			<Length>8</Length>
			<Scale>0</Scale>
			<IsMandatory>true</IsMandatory>
			<RegularExpression></RegularExpression>
			<Default></Default>
			<IsHide>true</IsHide>
			<IsHideInDataGrid>true</IsHideInDataGrid>
			<IsDataKeyField>false</IsDataKeyField>
			<IsKeyField>false</IsKeyField>
			<IsForeignKeyField>false</IsForeignKeyField>
			<IsIdentity>false</IsIdentity>
			<IsUpdatable>true</IsUpdatable>
			<IsOrderBy>false</IsOrderBy>
			<Relation>
			</Relation>
		</Column>
	</Referential>
</Referentials>