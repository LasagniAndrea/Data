<?xml version="1.0" encoding="utf-8" ?>

<!--
EG 20211217 [XXXXX] Gestion icon (Font Awesome) ouverture/Fermeture
- Suppression de l'instruction : tblH-startdisplay:expand; (inutile valeur par défaut)
- Suppression de l'instruction : tblH-linkid:xxxx; (inutile gestion via ajax quand nécessaire)
-->

<Objects>

  <!--// Broker //-->
  <Object name="BrokerOneSalesBlockDisplayAfterBr">
    <Table verticalAlign ="Top">
      <PartyBrokerDisplayAfterBr clientid="actor" postback="true" required="true" />
    </Table>
    <table  verticalAlign ="Top">
      <Trader clientid="trader" required="false" occurs="1" addsuboperator="false" postback="true" locked="modifypostevts:no" helpschema="efsml" helpelement="trader"/>
      <br/>
      <TradeID2_L clientid="frontId" required="false" locked="modifypostevts:no"/>
    </table >
    <table verticalAlign="Top" controlalignleft="1" >
      <SalesFactor clientid="sales" postback="true" locked="modifypostevts:no" required="false" occurs="1" addsuboperator="false" tablecontrolalignleft="1" helpschema="efsml" helpelement="sales" />
    </table>
    <br />
  </Object>

  <!--TradeExtendsBlock-->
  <Object name="TradeExtendsBlock">
    <Table style="istableB:true;tblB-mainclass:gray;" controlalignleft="true" >
      <TradeExtends clientid="tradeExtends" helpschema="efsml" helpelement="TradeExtends" />
    </Table>
  </Object>
  
  <!--Book-->
  <Object name="Book">
    <Label helpelement="none" />
    <TextBox datatype="string" style="width:170px;" autocomplete="true"/>
    <Button type="Submit" referential="BOOK_VIEWER" cssclass="fa-icon"  tooltip="search" />
    <Space />
    <Display style="width:200px;" helpelement="none" />
  </Object>
  
  <!--SidePayRec-->
  <Object name="SidePayRec">
    <Table verticalAlign="top">
      <HtmlSelect datatype="string" listretrieval="predef:payrec" />
      <Space />
    </Table>
  </Object>

  <!--SideCRDR-->
  <Object name="SideCRDR">
    <Table verticalAlign="top">
      <HtmlSelect datatype="string" listretrieval="predef:crdr" />
      <Space />
    </Table>
  </Object>
  <!--SideDepositWithdrawal-->
  <Object name="SideDepositWithdrawal">
    <Table verticalAlign="top">
      <HtmlSelect datatype="string" listretrieval="predef:depositwithdrawal" />
      <Space />
    </Table>
  </Object>

  <!--SideXXXYYY-->
  <Object name="SideXXXYYY">
    <Table verticalAlign="top">
      <HtmlSelect datatype="string" listretrieval="predef:xxxyyy" />
      <Space />
    </Table>
  </Object>
  
  <!-- SettlementInputBlock -->
  <Object name="SettlementInputBlock">
    <Table style="istableH:true;tblH-bkgH-color:#545454;tblH-titleR:settlementInformations;tblH-css:size5;tblH-startdisplay:collapse;helpschema:efsml;helpelement:SettlementInput;">
      <table id="tblSettlementInformations" style="margin-top:2px;" controlalignleft="1">
        <SettlementInput_Css clientid="settlementInput1" required="false" />
        <SettlementInput_Detail clientid="settlementInput1_details" />
        <NettingInformation clientid="nettingInformation" required="false" />
      </table>
    </Table>
  </Object>
  
  <!-- BULLET PAYMENT -->
  <Object name="PartyBrokerBulletBlock">
    <table>
      <PartyBrokerBullet clientid="tradeHeader_party" occurs="1" firstindex="1" required="true" />
      <space/>
      <PartyBrokerBullet clientid="tradeHeader_party" occurs="1" firstindex="2" required="true" />
    </table>
  </Object>
  <Object name="PartyBrokerBullet">
    <table id="party" verticalAlign="Top" style="istableH:true;tblH-headerlinkid:ptyheader;">
      <table >
        <PartyHeaderSidePayRec/>
        <br/>
        <table controlalignleft="1" style="margin-top:2px">
          <table verticalAlign="Top">
            <TradeID2_L clientid="frontId" required="false" locked="modifypostevts:no" />
            <br/>
            <Folder2_L clientid="folder" required="false" locked="modifypostevts:no"/>
          </table>
          <table verticalAlign="Top" >
            <Trader_L clientid="trader" required="false" occurs="1" postback="true" locked="modifypostevts:no" helpschema="efsml" helpelement="trader"/>
          </table >
          <table verticalAlign="Top">
            <SalesFactor clientid="sales" postback="true" locked="modifypostevts:no" required="false" occurs="2" addsuboperator="true" helpschema="efsml" helpelement="sales"/>
          </table>
        </table>
        <br/>
        <Table style="istableH:true;tblH-titleR:tradeHeader_broker_actor;tblH-reverse:1;tblH-css:size5;helpschema:efsml;helpelement:PartyTradeInformation;">
          <table id="tblBroker" colspan="-1" style="margin-top:2px;"  controlalignleft="1">
            <BrokerOneSalesBlockDisplayAfterBr clientid="broker" occurs="1" required="false" addsuboperator="true" />
          </table>
        </Table>
      </table>
    </table>
  </Object>

  <!-- PARTYHEADER -->
  <Object name="PartyHeaderSidePayRec">
    <table id="ptyheader">
      <SidePayRec clientid="side" postback="true" required="true" />
      <PartyHeaderDisplay/>
    </table>
  </Object>
  <Object name="PartyHeaderSideXXXYYY">
    <table id="ptyheader">
      <SideXXXYYY clientid="side" postback="true" required="true" />
      <PartyHeaderDisplay/>
    </table>
  </Object>

  <!-- PartyHeaderDisplay -->
  <Object name="PartyHeaderDisplay">
    <PartyActorDisplay clientid="actor" postback="true" required="true" />
    <BookDisplay clientid="book" postback="true" required="false" />
    <xFill/>
  </Object>
  
  <!--PartyActorDisplay-->
  <Object name="PartyActorDisplay" helpschema="fpml" helpelement="Party">
    <documentation>Party Actor Display</documentation>
    <Table verticalAlign ="Top" xcontrolalignleft="1">
      <TextBox datatype="string" accesskey="NextBlock" helpschema="efsml" helpelement="Party" style="width:170px;" autocomplete="true"/>
      <Button type="Submit" referential="ACTOR" condition="COUNTERPARTY" cssclass="fa-icon"  tooltip="search"/>
      <br/>
      <table colspan="2">
        <Display helpelement="none" style="white-space:normal"/>-->
        <Panel clientid="img" style="float:left;display:none" />
      </table>
    </Table>
  </Object>
  <!--BookDisplay-->
  <Object name="BookDisplay">
    <Table verticalAlign ="Top">
      <Label helpschema="efsml" helpelement="BookId" />
      <table>
        <TextBox datatype="string" style="width:150px;" autocomplete="true" />
        <Button type="Submit" referential="BOOK_VIEWER" cssclass="fa-icon" 	tooltip="search" />
      </table>
      <br/>
      <space/>
      <Display style="white-space:normal;width:150px" spacebefore="0" spaceafter="0" />
    </Table>
  </Object>
  
  <!--TradeID_L-->
  <Object name="TradeID_L">
    <Label helpschema="fpml" helpelement="TradeId"/>
    <TextBox datatype="string" style="width:120px;" />
  </Object>
  <Object name="TradeID2_L">
    <Label helpschema="fpml" helpelement="TradeId"/>
    <TextBox datatype="string" style="width:100px;" />
  </Object>

  <!--Folder_L-->
  <Object name="Folder2_L">
    <Label helpschema="efsml" helpelement="LinkId" />
    <TextBox datatype="string" style="width:100px;" />
  </Object>
  
  <Object name="TradeHeader">
    <!--EG 20171009 [23452]-->
    <AltZonedDateTimeOffset_L clientid="tradeDateTime" required="true" helpschema="efsml" helpelement="TradeDateTime" match="true"/>
  </Object>


  <!--//-->
  <Object name="PartyMarginRequirementBlock">
    <table>
      <PartyMarginRequirement clientid="tradeHeader_party" occurs="1" firstindex="1" required="true" />
      <space/>
      <PartyMarginRequirement clientid="tradeHeader_party" occurs="1" firstindex="2" required="true" />
    </table>
  </Object>

  <!--//-->
  <Object name="PartyMarginRequirement">
    <table id="party" verticalAlign="Top" style="height:10px;istableH:true;tblH-mainclass:blue;tblH-titleBlank:1;tblH-css:size6;">
      <PartyActorDisplayRisk clientid="actor" postback="true" required="true" />
      <BookDisplayRisk clientid="book" postback="true" required="false" />
    </table>
  </Object>

  <!--PartyCashPaymentBlock-->
  <Object name="PartyCashPaymentBlock">
    <table>
      <PartyCashPayment clientid="tradeHeader_party" occurs="1" firstindex="1" required="true" />
      <space/>
      <!-- PL 20180605 [24002] -->
      <Party2CashPayment clientid="tradeHeader_party" occurs="1" firstindex="2" required="true" />
    </table>
  </Object>

  <!--PartyCashPayment-->
  <Object name="PartyCashPayment">
    <!-- PL 20180605 [24002] -->
    <table id="party" verticalAlign="Top" style="istableH:true;tblH-mainclass:blue;tblH-headerlinkid:ptyheader;">
      <table>
        <PartyHeaderSideDepositWithdrawalCashPayment/>
      </table>
    </table>
  </Object>
  <Object name="Party2CashPayment">
    <table id="party" verticalAlign="Top" style="istableH:true;tblH-bkgH-color:#545454;tblH-headerlinkid:ptyheader;" >
      <table>
        <PartyHeaderCashPayment/>
      </table>
    </table>
  </Object>

  <!--PartyHeaderSidePayRecCashPayment-->
  <!--<Object name="PartyHeaderSidePayRecCashPayment">-->
  <!-- PL 20180605 [24002] -->
  <!--PartyHeaderSideCRDRCashPayment-->
  <Object name="PartyHeaderSideCRDRCashPayment">
    <table id="ptyheader">
      <SideCRDR clientid="side" postback="true" required="true" />
      <PartyHeaderDisplayCashPayment/>
    </table>
  </Object>
  <Object name="PartyHeaderSideDepositWithdrawalCashPayment">
    <table id="ptyheader">
      <SideDepositWithdrawal clientid="side" postback="true" required="true" />
      <PartyHeaderDisplayCashPayment/>
    </table>
  </Object>
  
  <!--PartyHeaderCashPayment-->
  <Object name="PartyHeaderCashPayment">
    <table id="ptyheader">
      <Party2HeaderDisplayCashPayment/>
    </table>
  </Object>

  <!--PartyHeaderDisplayCashPayment-->
  <Object name="PartyHeaderDisplayCashPayment">
    <PartyActorDisplayRisk clientid="actor" postback="true" required="true" />
    <BookDisplayRisk clientid="book" postback="true" required="false" />
    <xFill/>
  </Object>
  <!--Party2HeaderDisplayCashPayment-->
  <Object name="Party2HeaderDisplayCashPayment">
    <Party2ActorDisplayRisk clientid="actor" postback="true" required="true" />
    <BookDisplayRisk clientid="book" postback="true" required="false" />
    <xFill/>
  </Object>


  <!--PartyActorDisplayRisk-->
  <Object name="PartyActorDisplayRisk" helpschema="fpml" helpelement="Party">
    <Table verticalAlign ="Top">
      <table controlalignleft="1">
        <TextBox datatype="string" accesskey="NextBlock" helpschema="efsml" helpelement="Party" style="width:190px;"  autocomplete="true"/>
        <Button type="Submit" referential="ACTOR" condition="COUNTERPARTY" cssclass="fa-icon"  tooltip="search"/>
      </table>
      <br/>
      <table controlalignleft="1">
        <Display helpelement="none" style="white-space:nowrap"/>
        <Button clientid ="img" style="float:left;display:none" />
      </table>
    </Table>
  </Object>
  <!--Party2ActorDisplayRisk-->
  <Object name="Party2ActorDisplayRisk" helpschema="fpml" helpelement="Party">
    <Table verticalAlign ="Top" controlalignleft="1">
      <label clientid="accountservicer" cssclass="txtCaptureCLEARING"/>
      <TextBox datatype="string" accesskey="NextBlock" helpschema="efsml" helpelement="Party" style="width:190px;" autocomplete="true" />
      <Button type="Submit" referential="ACTOR" condition="COUNTERPARTY" cssclass="fa-icon"  tooltip="search"/>
      <br/>
      <space/>
      <table colspan="2">
        <Display helpelement="none" style="white-space:nowrap"/>
        <Button clientid ="img" style="float:left;display:none" />
      </table>
    </Table>
  </Object>

  <!--BookDisplayRisk-->
  <Object name="BookDisplayRisk">
    <Table verticalAlign ="Top">
      <Label helpschema="efsml" helpelement="BookId" />
      <table>
        <TextBox datatype="string" style="width:250px" autocomplete="true"/>
        <Button type="Submit" referential="BOOK_VIEWER" cssclass="fa-icon"  tooltip="search" />
      </table>
      <br/>
      <space/>
      <Display style="white-space:normal;width:250px" spacebefore="0" spaceafter="0" />
    </Table>
  </Object>

  <Object name="ClearingOrganizationReference" >
    <Table id="tbl_ch" style="istableB:true;tblB-mainclass:gray;" verticalAlign="top" colspan="-1" controlalignleft="1">
      <ClearingOrganization_L />
      <ClearingOrganizationDisplay />
    </Table>
  </Object>
  <Object name="ClearingOrganizationDisplay" >
    <Table style="width:160px" controlalignleft="1">
      <Button clientid ="img" style="float:left;display:none" />
      <Display helpelement="none" style="color:white;font-size:small;white-space:nowrap;overflow:hidden"/>
    </Table>
  </Object>

  <Object name="ClearingOrganization" >
    <DropDown datatype="string"
              listretrieval="sql:
              select distinct a.IDENTIFIER as VALUE, a.IDENTIFIER as TEXT 
              from dbo.ACTOR a 
              inner join dbo.MARKET m on m.IDA=a.IDA  and  m.ISTRADEDDERIVATIVE=1"
              readonlymode ="isload:false;columntext:IDENTIFIER"/>
  </Object>
  <Object name="ClearingOrganization_L">
    <label />
    <ClearingOrganization/>
  </Object>

  <!-- TradeHeaderMarginRequirementBlock -->
  <Object name="TradeHeaderMarginRequirementBlock">
    <Table style="istableB:true;tblB-mainclass:PnlRoundedColor1;" controlalignleft="true" >
      <TradeHeaderMarginRequirement clientid="marginRequirement" />
    </Table>
  </Object>

  <!-- TradeHeaderCashPaymentBlock -->
  <Object name="TradeHeaderCashPaymentBlock">
    <Table style="istableB:true;tblB-mainclass:PnlRoundedColor1;" controlalignleft="true" >
      <TradeHeaderCashPayment />"
    </Table>
  </Object>

  <!-- orderEntered + timing + clearedDate -->
  <!-- [26454] Add InitialMarginMethodEnum -->
  <Object  name="TradeHeaderMarginRequirement">
    <table verticalAlign="top">
      <AltDateTimeOffset_L clientid="orderEntered" required="true" />
      <br/>
      <Date60_L clientid="clearedDate" required="true" postback="true" helpschema="efsml" helpelement="ClearedDate"/>
      <br/>
      <SettlSessIDEnum_L clientid="timing" />
      <InitialMarginMethod clientid="initialMarginMethod" required="false"/>
    </table>
  </Object>

  <!-- orderEntered -->
  <Object  name="TradeHeaderCashPayment">
    <table verticalAlign="top">
      <AltDateTimeOffset_L clientid="orderEntered" postback="true" required="true" />
    </table>
  </Object>

    <!-- InitialMarginMethods -->
  <Object name="InitialMarginMethod">
    <Label />
    <Button type="Submit" caption="Detail" imageurl="fas fa-external-link-square-alt" />
    <TextBox datatype="string" style="width:0px"/>
    <Display style="width:200px;" helpelement="none" />
  </Object>
</Objects>